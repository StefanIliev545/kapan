import{j as e}from"./jsx-runtime-CcWEvojh.js";import{r as t}from"./index-Bk_d_yAU.js";import{L as y}from"./link-DhzfSVSx.js";import{n as w}from"./createSafeContext-Dp97sAkz.js";import{M as L,n as O,H as E,W as M,o as H}from"./WalletStatus-DqWit5Sl.js";import"./useScaffoldMultiWriteContract-BRZiB8p-.js";import{n as A}from"./SelectedGasTokenContext-BLwdQCB-.js";import"./store-CUKCto7f.js";import{u as z}from"./useHeaderState-DkixTKZk.js";import"./useWalletConnection-Deg7A-R0.js";import"./ProtocolDropdownItem-DLoI1xHs.js";import"./ProtocolSelector-3GjdsNco.js";import"./RateDisplay-DQIxemgf.js";import{u as B}from"./Constants-BRuV1-4o.js";import{m as P}from"./proxy-6mTkzaM5.js";import{F as W}from"./XMarkIcon-BMRVPuHu.js";import"./index-kA4PVysc.js";import"./_commonjsHelpers-CE1G-McA.js";import"./_interop_require_default-BLfEiHrE.js";import"./contract-CleVho0y.js";import"./en_US-YBXRRIY6-ByhZuFgc.js";import"./iframe-BtPwi0O8.js";import"./clsx-B-dksMZM.js";import"./index-DWCZ5U4L.js";import"./index-C0udIITE.js";import"./prepareAuthorization-7YKPcvtF.js";import"./externalContracts-_f_8pMJw.js";import"./next-image-DV_ejeD4.js";import"./networks-DgHYYcb8.js";import"./protocols-CRHRSpKz.js";import"./Loading-Bz06Coe0.js";import"./index-CXgENQ1a.js";import"./validation-DM-NIpAK.js";import"./ChevronDownIcon-BxlGDZ4k.js";import"./ExclamationTriangleIcon-CGJHvwPy.js";import"./InformationCircleIcon-uxtQsYC6.js";import"./protocol-B00D1UZQ.js";import"./formatPercentage-BDNxS5DB.js";function $({title:a,titleId:s,...i},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},i),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const D=t.forwardRef($);function T({title:a,titleId:s,...i},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},i),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"}))}const F=t.forwardRef(T),U={opacity:0},Y={opacity:1},Z={type:"spring",stiffness:400,damping:30},q={delay:.5,duration:.5},G={zIndex:-1},b=[{label:"Positions",href:"/app",icon:e.jsx(F,{className:"size-5"})},{label:"Markets",href:"/markets",icon:e.jsx(H,{className:"size-5"})}],K=({href:a,icon:s,label:i,isActive:r,buttonRefs:l})=>{const m=t.useCallback(c=>{c&&l.current.set(a,c)},[l,a]);return e.jsxs(y,{href:a,ref:m,className:`relative z-10 flex items-center gap-2 rounded-md px-4 py-1.5 text-xs font-semibold uppercase tracking-wider transition-colors duration-200 ${r?"text-base-content":"text-base-content/40 hover:text-base-content/70"}`,children:[e.jsx("span",{className:`transition-transform duration-200 ${r?"scale-110":""}`,children:s}),e.jsx("span",{children:i})]})},R=({isMobile:a=!1})=>{const s=w.usePathname(),i=t.useRef(null),r=t.useRef(new Map),[l,m]=t.useState(null),c=b.find(n=>s===n.href||s.startsWith(n.href+"/"))?.href||b[0].href;t.useEffect(()=>{const n=r.current.get(c),o=i.current;if(n&&o){const u=o.getBoundingClientRect(),d=n.getBoundingClientRect();m({left:d.left-u.left,width:d.width})}},[c,s]);const p=t.useMemo(()=>l?{left:l.left,width:l.width}:void 0,[l]);return a?e.jsx(e.Fragment,{children:b.map(({label:n,href:o,icon:u})=>{const d=s===o||s.startsWith(o+"/");return e.jsx("li",{className:"relative",children:e.jsxs(y,{href:o,className:`flex items-center gap-3 rounded-lg px-4 py-3 transition-all duration-200 ${d?"bg-base-content/10 text-base-content":"text-base-content/50 hover:bg-base-content/5 hover:text-base-content/70"}`,children:[e.jsx("span",{children:u}),e.jsx("span",{className:"text-sm font-medium uppercase tracking-wider",children:n})]})},o)})}):e.jsxs("div",{ref:i,className:"bg-base-200/60 border-base-300/40 relative flex items-center rounded-lg border p-1",children:[p&&e.jsx(P.div,{className:"bg-base-content/10 absolute inset-y-1 rounded-md",initial:!1,animate:p,transition:Z}),b.map(({label:n,href:o,icon:u})=>{const d=s===o||s.startsWith(o+"/");return e.jsx(K,{href:o,icon:u,label:n,isActive:d,buttonRefs:r},o)})]})},k=()=>{const a=w.useRouter(),s=w.usePathname(),i=w.useSearchParams(),{viewingAddress:r,address:l}=B(),[m,c]=t.useState(r??""),[p,n]=t.useState(!1),o=i?.get("address")??void 0,u=t.useMemo(()=>!!o,[o]);t.useEffect(()=>{c(r??"")},[r]);const d=t.useCallback(f=>{const x=new URLSearchParams(i?.toString());f?x.set("address",f):x.delete("address");const N=x.toString();a.replace(`${s}${N?`?${N}`:""}`,{scroll:!1})},[s,a,i]),S=t.useCallback(f=>{f.preventDefault();const x=A(m);if(!x){n(!0);return}n(!1),c(x),d(x)},[d,m]),I=t.useCallback(()=>{d(void 0),n(!1),c(l??"")},[l,d]),C=t.useCallback(f=>{c(f.target.value),p&&n(!1)},[p]),_=p&&!A(m);return e.jsxs("form",{onSubmit:S,className:"relative w-full max-w-xl",children:[e.jsx("span",{className:"text-base-content/40 pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(D,{className:"size-5"})}),e.jsx("input",{value:m,onChange:C,placeholder:"Search address",className:`bg-base-200/60 border-base-content/10 focus:ring-base-content/20 focus:border-base-content/20 placeholder:text-base-content/30 w-full rounded-lg border py-2.5 pl-10 pr-12 text-sm transition-colors focus:outline-none focus:ring-1 ${_?"border-error focus:ring-error/40":""}`}),u&&e.jsx("button",{type:"button",onClick:I,className:"text-base-content/40 hover:text-error absolute inset-y-0 right-2 flex items-center rounded-full p-1 transition-colors","aria-label":"Clear address override",children:e.jsx(W,{className:"size-5"})})]})},V=()=>e.jsx(R,{isMobile:!0}),X=()=>e.jsx(M,{variant:"auto"}),h=()=>{const{isDrawerOpen:a,scrolled:s,burgerMenuRef:i,pathname:r,toggleDrawer:l,closeDrawer:m}=z(),c=r==="/app",p=t.useMemo(()=>e.jsx(V,{}),[]),n=t.useMemo(()=>e.jsx(X,{}),[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`sticky top-0 z-30 transition-all duration-300 ${s?"py-1":"py-2"}`,children:[e.jsx("div",{className:`bg-base-100/95 absolute inset-0 backdrop-blur-md transition-all duration-300 ${s?"shadow-[0_1px_3px_rgba(0,0,0,0.3)]":""}`,style:G,children:e.jsx("div",{className:"bg-base-content/5 absolute inset-x-0 bottom-0 h-[1px]"})}),e.jsx("div",{className:"container relative z-10 mx-auto px-4",children:e.jsxs("div",{className:"navbar h-auto min-h-0 justify-between gap-4 py-0",children:[e.jsxs("div",{className:"flex min-w-0 items-center",children:[e.jsxs("div",{className:"dropdown z-50 mr-2 lg:hidden",ref:i,"data-state":a?"open":"closed",children:[e.jsx(L,{isOpen:a,onClick:l}),e.jsx(O,{isOpen:a,onClose:m,menuLinks:p,walletButtons:n})]}),e.jsx(E,{scrolled:s}),e.jsx("div",{className:"ml-6 hidden lg:flex",children:e.jsx(R,{})})]}),e.jsx("div",{className:"hidden flex-1 justify-center md:flex",children:c&&e.jsx(k,{})}),e.jsx("div",{className:"flex items-center",children:e.jsx(P.div,{className:"relative z-20 hidden items-center md:flex",initial:U,animate:Y,transition:q,children:e.jsx(M,{variant:"auto"})})})]})})]}),c&&e.jsx("div",{className:"px-4 pb-2 md:hidden",children:e.jsx(k,{})})]})};try{h.displayName="AppHeader",h.__docgenInfo={description:"App header for /app/app page with wallet connection and settings",displayName:"AppHeader",props:{}}}catch{}const He={title:"Navigation/AppHeader",component:h,parameters:{layout:"fullscreen"}},g={name:"Default",render:()=>e.jsx(h,{})},v={name:"Positions Page (with search bar)",parameters:{nextjs:{navigation:{pathname:"/app"}}},render:()=>e.jsx(h,{})},j={name:"Markets Page",parameters:{nextjs:{navigation:{pathname:"/markets"}}},render:()=>e.jsx(h,{})};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  name: "Default",
  render: () => <AppHeader />
}`,...g.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  name: "Positions Page (with search bar)",
  parameters: {
    nextjs: {
      navigation: {
        pathname: "/app"
      }
    }
  },
  render: () => <AppHeader />
}`,...v.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  name: "Markets Page",
  parameters: {
    nextjs: {
      navigation: {
        pathname: "/markets"
      }
    }
  },
  render: () => <AppHeader />
}`,...j.parameters?.docs?.source}}};const ze=["Default","OnPositionsPage","OnMarketsPage"];export{g as Default,j as OnMarketsPage,v as OnPositionsPage,ze as __namedExportsOrder,He as default};
