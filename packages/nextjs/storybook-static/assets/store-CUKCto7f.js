import{s as C}from"./createSafeContext-Dp97sAkz.js";import{R as S}from"./index-Bk_d_yAU.js";const N=e=>{let t;const o=new Set,s=(c,d)=>{const r=typeof c=="function"?c(t):c;if(!Object.is(r,t)){const l=t;t=d??(typeof r!="object"||r===null)?r:Object.assign({},t,r),o.forEach(p=>p(t,l))}},n=()=>t,a={setState:s,getState:n,getInitialState:()=>i,subscribe:c=>(o.add(c),()=>o.delete(c))},i=t=e(s,n,a);return a},k=(e=>e?N(e):N),y=e=>e;function P(e,t=y){const o=S.useSyncExternalStore(e.subscribe,S.useCallback(()=>t(e.getState()),[e,t]),S.useCallback(()=>t(e.getInitialState()),[e,t]));return S.useDebugValue(o),o}const g=e=>{const t=k(e),o=s=>P(t,s);return Object.assign(o,t),o},v=(e=>e?g(e):g),f=v(e=>({nativeCurrency:{price:0,isFetching:!0},strkCurrencyPrice:0,nativeCurrencyPrice:0,setStrkCurrencyPrice:t=>e(()=>({strkCurrencyPrice:t})),setNativeCurrencyPrice:t=>e(o=>({nativeCurrency:{...o.nativeCurrency,price:t},nativeCurrencyPrice:t})),setIsNativeCurrencyFetching:t=>e(o=>({nativeCurrency:{...o.nativeCurrency,isFetching:t}})),targetEVMNetwork:C.targetEVMNetworks[0],setTargetEVMNetwork:t=>e(()=>({targetEVMNetwork:t})),targetSNNetwork:C.targetSNNetworks[0],setTargetSNNetwork:t=>e(()=>({targetSNNetwork:t})),blockNumber:void 0,setBlockNumber:t=>e(()=>({blockNumber:t})),snBlockNumber:void 0,setSnBlockNumber:t=>e(()=>({snBlockNumber:t})),protocolTotals:{},totalSupplied:0,totalBorrowed:0,totalNet:0,loadedProtocolCount:0,expectedProtocolCount:0,resetTotals:t=>e(()=>({protocolTotals:{},totalSupplied:0,totalBorrowed:0,totalNet:0,loadedProtocolCount:0,expectedProtocolCount:t})),setProtocolTotals:(t,o,s)=>e(n=>{const b=n.protocolTotals[t],u={...n.protocolTotals,[t]:{supply:o,borrow:s}},a=Object.values(u).reduce((r,l)=>r+l.supply,0),i=Object.values(u).reduce((r,l)=>r+l.borrow,0),c=a-i,d=b?n.loadedProtocolCount:n.loadedProtocolCount+1;return{protocolTotals:u,totalSupplied:a,totalBorrowed:i,totalNet:c,loadedProtocolCount:d}})}));export{f as u};
