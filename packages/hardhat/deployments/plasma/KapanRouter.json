{
  "address": "0x6491A91384EeBEcf6E7443Ede1A0e8dFA9e3189A",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "AddressEmptyCode",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "AddressInsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BadIndex",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FailedInnerCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FlashLoanRequiresTransientStack",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FractionTooLarge",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GatewayAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GatewayNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NoValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotAuthorized",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TokenMismatch",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Underflow",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UniswapV3RequiresPoolAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnsupportedFlashLoanProvider",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroToken",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "provider",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountWithFee",
          "type": "uint256"
        }
      ],
      "name": "FlashRepaid",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "provider",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "FlashRequested",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "aaveCompatiblePools",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "key",
          "type": "string"
        }
      ],
      "name": "aaveEnabledForKey",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "protocolName",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "gateway",
          "type": "address"
        }
      ],
      "name": "addGateway",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "protocolName",
              "type": "string"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct ProtocolTypes.ProtocolInstruction[]",
          "name": "instructions",
          "type": "tuple[]"
        },
        {
          "internalType": "address",
          "name": "caller",
          "type": "address"
        }
      ],
      "name": "authorizeInstructions",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "targets",
          "type": "address[]"
        },
        {
          "internalType": "bytes[]",
          "name": "data",
          "type": "bytes[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "enum KapanRouter.RouterInstructionType",
              "name": "instructionType",
              "type": "uint8"
            }
          ],
          "internalType": "struct KapanRouter.RouterInstruction[]",
          "name": "instrs",
          "type": "tuple[]"
        }
      ],
      "name": "authorizeRouter",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "targets",
          "type": "address[]"
        },
        {
          "internalType": "bytes[]",
          "name": "data",
          "type": "bytes[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "balancerV2Enabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "balancerV2Vault",
      "outputs": [
        {
          "internalType": "contract IFlashLoanProvider",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "balancerV3Enabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "balancerV3Vault",
      "outputs": [
        {
          "internalType": "contract IVaultV3",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "protocolName",
              "type": "string"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct ProtocolTypes.ProtocolInstruction[]",
          "name": "instructions",
          "type": "tuple[]"
        },
        {
          "internalType": "address",
          "name": "caller",
          "type": "address"
        }
      ],
      "name": "deauthorizeInstructions",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "targets",
          "type": "address[]"
        },
        {
          "internalType": "bytes[]",
          "name": "data",
          "type": "bytes[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "asset",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "initiator",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "params",
          "type": "bytes"
        }
      ],
      "name": "executeOperation",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "gateways",
      "outputs": [
        {
          "internalType": "contract IGateway",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "key",
          "type": "string"
        }
      ],
      "name": "getAaveCompatiblePool",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "isAaveCompatiblePool",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "protocolName",
              "type": "string"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct ProtocolTypes.ProtocolInstruction[]",
          "name": "instructions",
          "type": "tuple[]"
        }
      ],
      "name": "processProtocolInstructions",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IERC20[]",
          "name": "tokens",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "feeAmounts",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes",
          "name": "userData",
          "type": "bytes"
        }
      ],
      "name": "receiveFlashLoan",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "userData",
          "type": "bytes"
        }
      ],
      "name": "receiveFlashLoanV3",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "pool",
          "type": "address"
        }
      ],
      "name": "setAavePool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "setBalancerV2",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "vault",
          "type": "address"
        }
      ],
      "name": "setBalancerV3",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "factoryOrSentinel",
          "type": "address"
        }
      ],
      "name": "setUniswapV3Enabled",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "pool",
          "type": "address"
        }
      ],
      "name": "setZeroLendPool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "uniswapEnabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "uniswapV3Factory",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "fee0",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "fee1",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "uniswapV3FlashCallback",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x0f32893f13d936ec6f1c7187da024697305ffc14b46faa06faf830a9f6c715e2",
  "receipt": {
    "to": "0x4e59b44847b379578588920cA78FbF26c0B4956C",
    "from": "0x0BE61223F99E57b8b8B7033a77B54Adc7f7cF027",
    "contractAddress": null,
    "transactionIndex": 6,
    "gasUsed": "5296106",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000800000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000004000000800000000000000000000000000000000400000000000000000000000000000000000000000200000000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000040000000000000000000000",
    "blockHash": "0xbf57e65351f19b71aca423bffcb4b25bb3c26913b63d6534ac325a209028b6bb",
    "transactionHash": "0x0f32893f13d936ec6f1c7187da024697305ffc14b46faa06faf830a9f6c715e2",
    "logs": [
      {
        "transactionIndex": 6,
        "blockNumber": 9838106,
        "transactionHash": "0x0f32893f13d936ec6f1c7187da024697305ffc14b46faa06faf830a9f6c715e2",
        "address": "0x6491A91384EeBEcf6E7443Ede1A0e8dFA9e3189A",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x0000000000000000000000000be61223f99e57b8b8b7033a77b54adc7f7cf027"
        ],
        "data": "0x",
        "logIndex": 0,
        "blockHash": "0xbf57e65351f19b71aca423bffcb4b25bb3c26913b63d6534ac325a209028b6bb"
      }
    ],
    "blockNumber": 9838106,
    "cumulativeGasUsed": "12673365",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x0BE61223F99E57b8b8B7033a77B54Adc7f7cF027"
  ],
  "numDeployments": 6,
  "solcInputHash": "50133427841d9f54619d6cba906708fa",
  "metadata": "{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"AddressEmptyCode\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AddressInsufficientBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BadIndex\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedInnerCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FlashLoanRequiresTransientStack\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FractionTooLarge\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GatewayAlreadyExists\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GatewayNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotAuthorized\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TokenMismatch\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Underflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UniswapV3RequiresPoolAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnsupportedFlashLoanProvider\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroToken\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"provider\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountWithFee\",\"type\":\"uint256\"}],\"name\":\"FlashRepaid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"provider\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"FlashRequested\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"aaveCompatiblePools\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"key\",\"type\":\"string\"}],\"name\":\"aaveEnabledForKey\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"protocolName\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"gateway\",\"type\":\"address\"}],\"name\":\"addGateway\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"protocolName\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct ProtocolTypes.ProtocolInstruction[]\",\"name\":\"instructions\",\"type\":\"tuple[]\"},{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"}],\"name\":\"authorizeInstructions\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"targets\",\"type\":\"address[]\"},{\"internalType\":\"bytes[]\",\"name\":\"data\",\"type\":\"bytes[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"enum KapanRouter.RouterInstructionType\",\"name\":\"instructionType\",\"type\":\"uint8\"}],\"internalType\":\"struct KapanRouter.RouterInstruction[]\",\"name\":\"instrs\",\"type\":\"tuple[]\"}],\"name\":\"authorizeRouter\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"targets\",\"type\":\"address[]\"},{\"internalType\":\"bytes[]\",\"name\":\"data\",\"type\":\"bytes[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"balancerV2Enabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"balancerV2Vault\",\"outputs\":[{\"internalType\":\"contract IFlashLoanProvider\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"balancerV3Enabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"balancerV3Vault\",\"outputs\":[{\"internalType\":\"contract IVaultV3\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"protocolName\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct ProtocolTypes.ProtocolInstruction[]\",\"name\":\"instructions\",\"type\":\"tuple[]\"},{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"}],\"name\":\"deauthorizeInstructions\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"targets\",\"type\":\"address[]\"},{\"internalType\":\"bytes[]\",\"name\":\"data\",\"type\":\"bytes[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"premium\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"initiator\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"params\",\"type\":\"bytes\"}],\"name\":\"executeOperation\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"gateways\",\"outputs\":[{\"internalType\":\"contract IGateway\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"key\",\"type\":\"string\"}],\"name\":\"getAaveCompatiblePool\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isAaveCompatiblePool\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"protocolName\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct ProtocolTypes.ProtocolInstruction[]\",\"name\":\"instructions\",\"type\":\"tuple[]\"}],\"name\":\"processProtocolInstructions\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20[]\",\"name\":\"tokens\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"feeAmounts\",\"type\":\"uint256[]\"},{\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"receiveFlashLoan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"receiveFlashLoanV3\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"pool\",\"type\":\"address\"}],\"name\":\"setAavePool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"setBalancerV2\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"}],\"name\":\"setBalancerV3\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"factoryOrSentinel\",\"type\":\"address\"}],\"name\":\"setUniswapV3Enabled\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"pool\",\"type\":\"address\"}],\"name\":\"setZeroLendPool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"uniswapEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"uniswapV3Factory\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"fee0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fee1\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"uniswapV3FlashCallback\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"AddressEmptyCode(address)\":[{\"details\":\"There's no code at `target` (it is not a contract).\"}],\"AddressInsufficientBalance(address)\":[{\"details\":\"The ETH balance of the account is not enough to perform the operation.\"}],\"FailedInnerCall()\":[{\"details\":\"A call to an address target failed. The target may have reverted.\"}],\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"setAavePool(address)\":{\"notice\":\"Set the Aave V3 pool address.\"},\"setZeroLendPool(address)\":{\"notice\":\"Set the ZeroLend pool address.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/v2/KapanRouter.sol\":\"KapanRouter\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {Context} from \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * The initial owner is set to the address provided by the deployer. This can\\n * later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    /**\\n     * @dev The caller account is not authorized to perform an operation.\\n     */\\n    error OwnableUnauthorizedAccount(address account);\\n\\n    /**\\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\\n     */\\n    error OwnableInvalidOwner(address owner);\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\\n     */\\n    constructor(address initialOwner) {\\n        if (initialOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(initialOwner);\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        if (owner() != _msgSender()) {\\n            revert OwnableUnauthorizedAccount(_msgSender());\\n        }\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        if (newOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the value of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the value of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the\\n     * caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from `from` to `to` using the\\n     * allowance mechanism. `value` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\\n}\\n\",\"keccak256\":\"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/extensions/IERC20Permit.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Interface of the ERC20 Permit extension allowing approvals to be made via signatures, as defined in\\n * https://eips.ethereum.org/EIPS/eip-2612[EIP-2612].\\n *\\n * Adds the {permit} method, which can be used to change an account's ERC20 allowance (see {IERC20-allowance}) by\\n * presenting a message signed by the account. By not relying on {IERC20-approve}, the token holder account doesn't\\n * need to send a transaction, and thus is not required to hold Ether at all.\\n *\\n * ==== Security Considerations\\n *\\n * There are two important considerations concerning the use of `permit`. The first is that a valid permit signature\\n * expresses an allowance, and it should not be assumed to convey additional meaning. In particular, it should not be\\n * considered as an intention to spend the allowance in any specific way. The second is that because permits have\\n * built-in replay protection and can be submitted by anyone, they can be frontrun. A protocol that uses permits should\\n * take this into consideration and allow a `permit` call to fail. Combining these two aspects, a pattern that may be\\n * generally recommended is:\\n *\\n * ```solidity\\n * function doThingWithPermit(..., uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) public {\\n *     try token.permit(msg.sender, address(this), value, deadline, v, r, s) {} catch {}\\n *     doThing(..., value);\\n * }\\n *\\n * function doThing(..., uint256 value) public {\\n *     token.safeTransferFrom(msg.sender, address(this), value);\\n *     ...\\n * }\\n * ```\\n *\\n * Observe that: 1) `msg.sender` is used as the owner, leaving no ambiguity as to the signer intent, and 2) the use of\\n * `try/catch` allows the permit to fail and makes the code tolerant to frontrunning. (See also\\n * {SafeERC20-safeTransferFrom}).\\n *\\n * Additionally, note that smart contract wallets (such as Argent or Safe) are not able to produce permit signatures, so\\n * contracts should have entry points that don't rely on permit.\\n */\\ninterface IERC20Permit {\\n    /**\\n     * @dev Sets `value` as the allowance of `spender` over ``owner``'s tokens,\\n     * given ``owner``'s signed approval.\\n     *\\n     * IMPORTANT: The same issues {IERC20-approve} has related to transaction\\n     * ordering also apply here.\\n     *\\n     * Emits an {Approval} event.\\n     *\\n     * Requirements:\\n     *\\n     * - `spender` cannot be the zero address.\\n     * - `deadline` must be a timestamp in the future.\\n     * - `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`\\n     * over the EIP712-formatted function arguments.\\n     * - the signature must use ``owner``'s current nonce (see {nonces}).\\n     *\\n     * For more information on the signature format, see the\\n     * https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP\\n     * section].\\n     *\\n     * CAUTION: See Security Considerations above.\\n     */\\n    function permit(\\n        address owner,\\n        address spender,\\n        uint256 value,\\n        uint256 deadline,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) external;\\n\\n    /**\\n     * @dev Returns the current nonce for `owner`. This value must be\\n     * included whenever a signature is generated for {permit}.\\n     *\\n     * Every successful call to {permit} increases ``owner``'s nonce by one. This\\n     * prevents a signature from being used multiple times.\\n     */\\n    function nonces(address owner) external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the domain separator used in the encoding of the signature for {permit}, as defined by {EIP712}.\\n     */\\n    // solhint-disable-next-line func-name-mixedcase\\n    function DOMAIN_SEPARATOR() external view returns (bytes32);\\n}\\n\",\"keccak256\":\"0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/utils/SafeERC20.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC20} from \\\"../IERC20.sol\\\";\\nimport {IERC20Permit} from \\\"../extensions/IERC20Permit.sol\\\";\\nimport {Address} from \\\"../../../utils/Address.sol\\\";\\n\\n/**\\n * @title SafeERC20\\n * @dev Wrappers around ERC20 operations that throw on failure (when the token\\n * contract returns false). Tokens that return no value (and instead revert or\\n * throw on failure) are also supported, non-reverting calls are assumed to be\\n * successful.\\n * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\n */\\nlibrary SafeERC20 {\\n    using Address for address;\\n\\n    /**\\n     * @dev An operation with an ERC20 token failed.\\n     */\\n    error SafeERC20FailedOperation(address token);\\n\\n    /**\\n     * @dev Indicates a failed `decreaseAllowance` request.\\n     */\\n    error SafeERC20FailedDecreaseAllowance(address spender, uint256 currentAllowance, uint256 requestedDecrease);\\n\\n    /**\\n     * @dev Transfer `value` amount of `token` from the calling contract to `to`. If `token` returns no value,\\n     * non-reverting calls are assumed to be successful.\\n     */\\n    function safeTransfer(IERC20 token, address to, uint256 value) internal {\\n        _callOptionalReturn(token, abi.encodeCall(token.transfer, (to, value)));\\n    }\\n\\n    /**\\n     * @dev Transfer `value` amount of `token` from `from` to `to`, spending the approval given by `from` to the\\n     * calling contract. If `token` returns no value, non-reverting calls are assumed to be successful.\\n     */\\n    function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal {\\n        _callOptionalReturn(token, abi.encodeCall(token.transferFrom, (from, to, value)));\\n    }\\n\\n    /**\\n     * @dev Increase the calling contract's allowance toward `spender` by `value`. If `token` returns no value,\\n     * non-reverting calls are assumed to be successful.\\n     */\\n    function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal {\\n        uint256 oldAllowance = token.allowance(address(this), spender);\\n        forceApprove(token, spender, oldAllowance + value);\\n    }\\n\\n    /**\\n     * @dev Decrease the calling contract's allowance toward `spender` by `requestedDecrease`. If `token` returns no\\n     * value, non-reverting calls are assumed to be successful.\\n     */\\n    function safeDecreaseAllowance(IERC20 token, address spender, uint256 requestedDecrease) internal {\\n        unchecked {\\n            uint256 currentAllowance = token.allowance(address(this), spender);\\n            if (currentAllowance < requestedDecrease) {\\n                revert SafeERC20FailedDecreaseAllowance(spender, currentAllowance, requestedDecrease);\\n            }\\n            forceApprove(token, spender, currentAllowance - requestedDecrease);\\n        }\\n    }\\n\\n    /**\\n     * @dev Set the calling contract's allowance toward `spender` to `value`. If `token` returns no value,\\n     * non-reverting calls are assumed to be successful. Meant to be used with tokens that require the approval\\n     * to be set to zero before setting it to a non-zero value, such as USDT.\\n     */\\n    function forceApprove(IERC20 token, address spender, uint256 value) internal {\\n        bytes memory approvalCall = abi.encodeCall(token.approve, (spender, value));\\n\\n        if (!_callOptionalReturnBool(token, approvalCall)) {\\n            _callOptionalReturn(token, abi.encodeCall(token.approve, (spender, 0)));\\n            _callOptionalReturn(token, approvalCall);\\n        }\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     */\\n    function _callOptionalReturn(IERC20 token, bytes memory data) private {\\n        // We need to perform a low level call here, to bypass Solidity's return data size checking mechanism, since\\n        // we're implementing it ourselves. We use {Address-functionCall} to perform this call, which verifies that\\n        // the target address contains contract code and also asserts for success in the low-level call.\\n\\n        bytes memory returndata = address(token).functionCall(data);\\n        if (returndata.length != 0 && !abi.decode(returndata, (bool))) {\\n            revert SafeERC20FailedOperation(address(token));\\n        }\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     *\\n     * This is a variant of {_callOptionalReturn} that silents catches all reverts and returns a bool instead.\\n     */\\n    function _callOptionalReturnBool(IERC20 token, bytes memory data) private returns (bool) {\\n        // We need to perform a low level call here, to bypass Solidity's return data size checking mechanism, since\\n        // we're implementing it ourselves. We cannot use {Address-functionCall} here since this should return false\\n        // and not revert is the subcall reverts.\\n\\n        (bool success, bytes memory returndata) = address(token).call(data);\\n        return success && (returndata.length == 0 || abi.decode(returndata, (bool))) && address(token).code.length > 0;\\n    }\\n}\\n\",\"keccak256\":\"0x37bb49513c49c87c4642a891b13b63571bc87013dde806617aa1efb54605f386\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (utils/Address.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary Address {\\n    /**\\n     * @dev The ETH balance of the account is not enough to perform the operation.\\n     */\\n    error AddressInsufficientBalance(address account);\\n\\n    /**\\n     * @dev There's no code at `target` (it is not a contract).\\n     */\\n    error AddressEmptyCode(address target);\\n\\n    /**\\n     * @dev A call to an address target failed. The target may have reverted.\\n     */\\n    error FailedInnerCall();\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.8.20/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        if (address(this).balance < amount) {\\n            revert AddressInsufficientBalance(address(this));\\n        }\\n\\n        (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n        if (!success) {\\n            revert FailedInnerCall();\\n        }\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason or custom error, it is bubbled\\n     * up by this function (like regular Solidity function calls). However, if\\n     * the call reverted with no returned reason, this function reverts with a\\n     * {FailedInnerCall} error.\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     */\\n    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {\\n        if (address(this).balance < value) {\\n            revert AddressInsufficientBalance(address(this));\\n        }\\n        (bool success, bytes memory returndata) = target.call{value: value}(data);\\n        return verifyCallResultFromTarget(target, success, returndata);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return verifyCallResultFromTarget(target, success, returndata);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     */\\n    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n        (bool success, bytes memory returndata) = target.delegatecall(data);\\n        return verifyCallResultFromTarget(target, success, returndata);\\n    }\\n\\n    /**\\n     * @dev Tool to verify that a low level call to smart-contract was successful, and reverts if the target\\n     * was not a contract or bubbling up the revert reason (falling back to {FailedInnerCall}) in case of an\\n     * unsuccessful call.\\n     */\\n    function verifyCallResultFromTarget(\\n        address target,\\n        bool success,\\n        bytes memory returndata\\n    ) internal view returns (bytes memory) {\\n        if (!success) {\\n            _revert(returndata);\\n        } else {\\n            // only check if target is a contract if the call was successful and the return data is empty\\n            // otherwise we already know that it was a contract\\n            if (returndata.length == 0 && target.code.length == 0) {\\n                revert AddressEmptyCode(target);\\n            }\\n            return returndata;\\n        }\\n    }\\n\\n    /**\\n     * @dev Tool to verify that a low level call was successful, and reverts if it wasn't, either by bubbling the\\n     * revert reason or with a default {FailedInnerCall} error.\\n     */\\n    function verifyCallResult(bool success, bytes memory returndata) internal pure returns (bytes memory) {\\n        if (!success) {\\n            _revert(returndata);\\n        } else {\\n            return returndata;\\n        }\\n    }\\n\\n    /**\\n     * @dev Reverts with returndata if present. Otherwise reverts with {FailedInnerCall}.\\n     */\\n    function _revert(bytes memory returndata) private pure {\\n        // Look for revert reason and bubble it up if present\\n        if (returndata.length > 0) {\\n            // The easiest way to bubble the revert reason is using memory via assembly\\n            /// @solidity memory-safe-assembly\\n            assembly {\\n                let returndata_size := mload(returndata)\\n                revert(add(32, returndata), returndata_size)\\n            }\\n        } else {\\n            revert FailedInnerCall();\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n\\n    function _contextSuffixLength() internal view virtual returns (uint256) {\\n        return 0;\\n    }\\n}\\n\",\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (utils/ReentrancyGuard.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Contract module that helps prevent reentrant calls to a function.\\n *\\n * Inheriting from `ReentrancyGuard` will make the {nonReentrant} modifier\\n * available, which can be applied to functions to make sure there are no nested\\n * (reentrant) calls to them.\\n *\\n * Note that because there is a single `nonReentrant` guard, functions marked as\\n * `nonReentrant` may not call one another. This can be worked around by making\\n * those functions `private`, and then adding `external` `nonReentrant` entry\\n * points to them.\\n *\\n * TIP: If you would like to learn more about reentrancy and alternative ways\\n * to protect against it, check out our blog post\\n * https://blog.openzeppelin.com/reentrancy-after-istanbul/[Reentrancy After Istanbul].\\n */\\nabstract contract ReentrancyGuard {\\n    // Booleans are more expensive than uint256 or any type that takes up a full\\n    // word because each write operation emits an extra SLOAD to first read the\\n    // slot's contents, replace the bits taken up by the boolean, and then write\\n    // back. This is the compiler's defense against contract upgrades and\\n    // pointer aliasing, and it cannot be disabled.\\n\\n    // The values being non-zero value makes deployment a bit more expensive,\\n    // but in exchange the refund on every call to nonReentrant will be lower in\\n    // amount. Since refunds are capped to a percentage of the total\\n    // transaction's gas, it is best to keep them low in cases like this one, to\\n    // increase the likelihood of the full refund coming into effect.\\n    uint256 private constant NOT_ENTERED = 1;\\n    uint256 private constant ENTERED = 2;\\n\\n    uint256 private _status;\\n\\n    /**\\n     * @dev Unauthorized reentrant call.\\n     */\\n    error ReentrancyGuardReentrantCall();\\n\\n    constructor() {\\n        _status = NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        // On the first call to nonReentrant, _status will be NOT_ENTERED\\n        if (_status == ENTERED) {\\n            revert ReentrancyGuardReentrantCall();\\n        }\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _status = ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _status = NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Returns true if the reentrancy guard is currently set to \\\"entered\\\", which indicates there is a\\n     * `nonReentrant` function in the call stack.\\n     */\\n    function _reentrancyGuardEntered() internal view returns (bool) {\\n        return _status == ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0xf980daa263b661ab8ddee7d4fd833c7da7e7995e2c359ff1f17e67e4112f2236\",\"license\":\"MIT\"},\"contracts/v2/KapanRouter.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\nimport { Ownable } from \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport { ReentrancyGuard } from \\\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\\\";\\nimport { SafeERC20 } from \\\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\\\";\\nimport { IERC20 } from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport { TBytes } from \\\"./libraries/TBytes.sol\\\";\\nimport { IGateway } from \\\"./interfaces/IGateway.sol\\\";\\nimport { ProtocolTypes } from \\\"./interfaces/ProtocolTypes.sol\\\";\\nimport { FlashLoanConsumerBase } from \\\"./flashloans/FlashLoanConsumerBase.sol\\\";\\n\\n// Custom errors\\nerror GatewayAlreadyExists();\\nerror GatewayNotFound();\\nerror NotAuthorized();\\nerror BadIndex();\\nerror ZeroToken();\\nerror ZeroAmount();\\nerror NoValue();\\nerror FractionTooLarge();\\nerror TokenMismatch();\\nerror Underflow();\\nerror FlashLoanRequiresTransientStack();\\nerror UnsupportedFlashLoanProvider();\\nerror UniswapV3RequiresPoolAddress();\\nerror AavePoolNotRegistered();\\nerror ZeroLendPoolNotRegistered();\\n\\ncontract KapanRouter is Ownable, ReentrancyGuard, FlashLoanConsumerBase {\\n    using SafeERC20 for IERC20;\\n\\n    bytes32 constant INSTRUCTION_STACK = keccak256(\\\"KapanRouter:instructionStack\\\");\\n    bytes32 constant OUTPUTS_SLOT = keccak256(\\\"KapanRouter:outputs\\\");\\n    bytes32 constant ROUTER_KEY = keccak256(abi.encode(\\\"router\\\"));\\n    mapping(string => IGateway) public gateways;\\n\\n    constructor(address owner) Ownable(owner) {}\\n\\n    function addGateway(string calldata protocolName, address gateway) external onlyOwner {\\n        if (address(gateways[protocolName]) == gateway) {\\n            return;\\n        }\\n        if (address(gateways[protocolName]) != address(0)) revert GatewayAlreadyExists();\\n        gateways[protocolName] = IGateway(gateway);\\n    }\\n\\n    function setBalancerV2(address provider) external onlyOwner {\\n        _setBalancerV2(provider);\\n    }\\n\\n    function setBalancerV3(address vault) external onlyOwner {\\n        _setBalancerV3(vault);\\n    }\\n\\n    /// @notice Set the Aave V3 pool address.\\n    function setAavePool(address pool) external onlyOwner {\\n        _addAaveCompatiblePool(\\\"aave\\\", pool);\\n    }\\n\\n    /// @notice Set the ZeroLend pool address.\\n    function setZeroLendPool(address pool) external onlyOwner {\\n        _addAaveCompatiblePool(\\\"zerolend\\\", pool);\\n    }\\n\\n    function setUniswapV3Enabled(address factoryOrSentinel) external onlyOwner {\\n        _setUniswapV3Factory(factoryOrSentinel);\\n    }\\n\\n    enum RouterInstructionType {\\n        FlashLoan,\\n        PullToken,\\n        PushToken,\\n        ToOutput,\\n        Approve,\\n        Split,\\n        Add,\\n        Subtract\\n    }\\n    enum FlashLoanProvider {\\n        BalancerV2,\\n        BalancerV3,\\n        Aave,\\n        ZeroLend,\\n        UniswapV3\\n    }\\n    struct RouterInstruction {\\n        uint256 amount;\\n        address token;\\n        address user;\\n        RouterInstructionType instructionType;\\n    }\\n\\n    function convertToStack(ProtocolTypes.ProtocolInstruction[] calldata instructions) internal {\\n        ProtocolTypes.ProtocolInstruction[] memory reversed = new ProtocolTypes.ProtocolInstruction[](\\n            instructions.length\\n        );\\n\\n        // Iterate in reverse order to build the stack (top is last)\\n        for (uint256 i = 0; i < instructions.length; i++) {\\n            reversed[i] = instructions[instructions.length - 1 - i];\\n        }\\n\\n        TBytes.set(INSTRUCTION_STACK, abi.encode(reversed));\\n    }\\n\\n    function popStack() internal returns (ProtocolTypes.ProtocolInstruction memory instruction, bool isEmpty) {\\n        bytes memory raw = TBytes.get(INSTRUCTION_STACK);\\n        if (raw.length == 0) {\\n            return (instruction, true);\\n        }\\n        ProtocolTypes.ProtocolInstruction[] memory reversed = abi.decode(raw, (ProtocolTypes.ProtocolInstruction[]));\\n        uint256 len = reversed.length;\\n        if (len == 0) {\\n            return (instruction, true);\\n        }\\n        instruction = reversed[len - 1];\\n        assembly {\\n            mstore(reversed, sub(len, 1))\\n        }\\n        TBytes.set(INSTRUCTION_STACK, abi.encode(reversed));\\n        isEmpty = (len - 1 == 0);\\n    }\\n\\n    function processProtocolInstructions(ProtocolTypes.ProtocolInstruction[] calldata instructions) external nonReentrant {\\n        verifyInstructionAuthorization(instructions);\\n        (bool hasFlash, uint256 flashIndex) = _findFlashInstruction(instructions);\\n        if (hasFlash) {\\n            _executeUntilFlash(instructions, flashIndex);\\n        } else {\\n            _executeAllInMemory(instructions);\\n        }\\n        deleteOutputs();\\n    }\\n\\n    function deleteOutputs() internal {\\n        // Reset the output slot to empty\\n        TBytes.set(OUTPUTS_SLOT, bytes(\\\"\\\"));\\n    }\\n\\n    function _findFlashInstruction(\\n        ProtocolTypes.ProtocolInstruction[] calldata instructions\\n    ) internal pure returns (bool hasFlash, uint256 index) {\\n        for (uint256 i = 0; i < instructions.length; i++) {\\n            ProtocolTypes.ProtocolInstruction calldata instruction = instructions[i];\\n            if (keccak256(abi.encode(instruction.protocolName)) != ROUTER_KEY) {\\n                continue;\\n            }\\n            if (instruction.data.length == 0) {\\n                continue;\\n            }\\n            RouterInstruction memory routerInstruction = abi.decode(instruction.data, (RouterInstruction));\\n            if (routerInstruction.instructionType == RouterInstructionType.FlashLoan) {\\n                return (true, i);\\n            }\\n        }\\n    }\\n\\n    function _executeAllInMemory(ProtocolTypes.ProtocolInstruction[] calldata instructions) internal {\\n        ProtocolTypes.Output[] memory outputs = new ProtocolTypes.Output[](0);\\n        for (uint256 i = 0; i < instructions.length; i++) {\\n            ProtocolTypes.ProtocolInstruction calldata instruction = instructions[i];\\n            if (keccak256(abi.encode(instruction.protocolName)) == ROUTER_KEY) {\\n                outputs = _processRouterInstructionInMemory(instruction, outputs);\\n            } else {\\n                outputs = _processGatewayInstructionInMemory(instruction, outputs);\\n            }\\n        }\\n    }\\n\\n    function _executeUntilFlash(\\n        ProtocolTypes.ProtocolInstruction[] calldata instructions,\\n        uint256 flashIndex\\n    ) internal {\\n        ProtocolTypes.Output[] memory outputs = new ProtocolTypes.Output[](0);\\n        for (uint256 i = 0; i < flashIndex; i++) {\\n            ProtocolTypes.ProtocolInstruction calldata instruction = instructions[i];\\n            if (keccak256(abi.encode(instruction.protocolName)) == ROUTER_KEY) {\\n                outputs = _processRouterInstructionInMemory(instruction, outputs);\\n            } else {\\n                outputs = _processGatewayInstructionInMemory(instruction, outputs);\\n            }\\n        }\\n\\n        uint256 remaining = instructions.length - flashIndex - 1;\\n        ProtocolTypes.ProtocolInstruction[] memory reversed = new ProtocolTypes.ProtocolInstruction[](remaining);\\n        for (uint256 i = 0; i < remaining; i++) {\\n            reversed[i] = instructions[instructions.length - 1 - i];\\n        }\\n        TBytes.set(INSTRUCTION_STACK, abi.encode(reversed));\\n        TBytes.set(OUTPUTS_SLOT, abi.encode(outputs));\\n\\n        (, FlashLoanProvider provider, ProtocolTypes.InputPtr memory inputPtr, address pool) = abi.decode(\\n            instructions[flashIndex].data,\\n            (RouterInstruction, FlashLoanProvider, ProtocolTypes.InputPtr, address)\\n        );\\n\\n        processFlashLoan(provider, inputPtr, pool);\\n    }\\n\\n    function verifyInstructionAuthorization(ProtocolTypes.ProtocolInstruction[] calldata instructions) internal view {\\n        for (uint256 i = 0; i < instructions.length; i++) {\\n            ProtocolTypes.ProtocolInstruction calldata instruction = instructions[i];\\n            // Skip router instructions (they have their own authorization)\\n            if (keccak256(abi.encode(instruction.protocolName)) != ROUTER_KEY) {\\n                ProtocolTypes.LendingInstruction memory lendingInstr = abi.decode(\\n                    instruction.data,\\n                    (ProtocolTypes.LendingInstruction)\\n                );\\n                // Verify msg.sender matches the user in the instruction for ALL operations\\n                // This prevents attackers from executing operations on behalf of other users\\n                if (lendingInstr.user != msg.sender) revert NotAuthorized();\\n            }\\n        }\\n    }\\n\\n    function runStack() internal {\\n        (ProtocolTypes.ProtocolInstruction memory instruction, bool isEmpty) = popStack();\\n        if (bytes(instruction.protocolName).length == 0) {\\n            return;\\n        }\\n        while (true) {\\n            if (keccak256(abi.encode(instruction.protocolName)) == ROUTER_KEY) {\\n                bool halt = processRouterInstruction(instruction);\\n                if (halt) {\\n                    return;\\n                }\\n            } else {\\n                IGateway gw = gateways[instruction.protocolName];\\n                if (address(gw) == address(0)) revert GatewayNotFound();\\n                ProtocolTypes.Output[] memory inputs = _getOutputs();\\n                ProtocolTypes.Output[] memory produced = gw.processLendingInstruction(inputs, instruction.data);\\n                if (produced.length > 0) {\\n                    _appendOutputs(produced);\\n                }\\n            }\\n\\n            if (isEmpty) {\\n                break;\\n            }\\n            (instruction, isEmpty) = popStack();\\n        }\\n    }\\n\\n    function _processRouterInstructionInMemory(\\n        ProtocolTypes.ProtocolInstruction calldata instruction,\\n        ProtocolTypes.Output[] memory outputs\\n    ) internal returns (ProtocolTypes.Output[] memory) {\\n        RouterInstruction memory routerInstruction = abi.decode(instruction.data, (RouterInstruction));\\n\\n        if (routerInstruction.instructionType == RouterInstructionType.FlashLoan) {\\n            revert FlashLoanRequiresTransientStack();\\n        } else if (routerInstruction.instructionType == RouterInstructionType.PullToken) {\\n            if (routerInstruction.user != msg.sender) revert NotAuthorized();\\n            IERC20(routerInstruction.token).safeTransferFrom(msg.sender, address(this), routerInstruction.amount);\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: routerInstruction.token, amount: routerInstruction.amount }));\\n        } else if (routerInstruction.instructionType == RouterInstructionType.PushToken) {\\n            (, ProtocolTypes.InputPtr memory inputPtr) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr)\\n            );\\n            if (inputPtr.index >= outputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory output = outputs[inputPtr.index];\\n            if (output.token == address(0)) revert ZeroToken();\\n            if (output.amount != 0) {\\n                IERC20(output.token).safeTransfer(routerInstruction.user, output.amount);\\n            }\\n            outputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n        } else if (routerInstruction.instructionType == RouterInstructionType.ToOutput) {\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: routerInstruction.token, amount: routerInstruction.amount }));\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Approve) {\\n            (, string memory targetProtocol, ProtocolTypes.InputPtr memory inputPtr) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, string, ProtocolTypes.InputPtr)\\n            );\\n            if (inputPtr.index >= outputs.length) revert BadIndex();\\n            address target;\\n            if (keccak256(abi.encode(targetProtocol)) == ROUTER_KEY) {\\n                target = address(this);\\n            } else {\\n                target = address(gateways[targetProtocol]);\\n            }\\n            if (target == address(0)) revert GatewayNotFound();\\n\\n            address tokenToApprove = outputs[inputPtr.index].token;\\n            uint256 amountToApprove = outputs[inputPtr.index].amount;\\n\\n            IERC20(tokenToApprove).approve(target, 0);\\n            IERC20(tokenToApprove).approve(target, amountToApprove);\\n\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Split) {\\n            (, ProtocolTypes.InputPtr memory inputPtr, uint256 bp) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr, uint256)\\n            );\\n            if (inputPtr.index >= outputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory orig = outputs[inputPtr.index];\\n            if (orig.token == address(0) || orig.amount == 0) revert NoValue();\\n            if (bp > 10000) revert FractionTooLarge();\\n\\n            uint256 feeAmount = (orig.amount * bp + 10000 - 1) / 10000;\\n            if (feeAmount > orig.amount) feeAmount = orig.amount;\\n            uint256 remainder = orig.amount - feeAmount;\\n\\n            outputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: orig.token, amount: feeAmount }));\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: orig.token, amount: remainder }));\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Add) {\\n            (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n            );\\n            if (ptrA.index >= outputs.length || ptrB.index >= outputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory outA = outputs[ptrA.index];\\n            ProtocolTypes.Output memory outB = outputs[ptrB.index];\\n            if (outA.token == address(0) || outB.token == address(0)) revert ZeroToken();\\n            if (outA.token != outB.token) revert TokenMismatch();\\n            uint256 total = outA.amount + outB.amount;\\n            outputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            outputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: outA.token, amount: total }));\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Subtract) {\\n            (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n            );\\n            if (ptrA.index >= outputs.length || ptrB.index >= outputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory outA = outputs[ptrA.index];\\n            ProtocolTypes.Output memory outB = outputs[ptrB.index];\\n            if (outA.token == address(0) || outB.token == address(0)) revert ZeroToken();\\n            if (outA.token != outB.token) revert TokenMismatch();\\n            if (outA.amount < outB.amount) revert Underflow();\\n            uint256 diff = outA.amount - outB.amount;\\n            outputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            outputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: outA.token, amount: diff }));\\n        }\\n\\n        return outputs;\\n    }\\n\\n    function _processGatewayInstructionInMemory(\\n        ProtocolTypes.ProtocolInstruction calldata instruction,\\n        ProtocolTypes.Output[] memory outputs\\n    ) internal returns (ProtocolTypes.Output[] memory) {\\n        IGateway gw = gateways[instruction.protocolName];\\n        if (address(gw) == address(0)) revert GatewayNotFound();\\n        ProtocolTypes.Output[] memory produced = gw.processLendingInstruction(outputs, instruction.data);\\n        if (produced.length > 0) {\\n            outputs = _concatOutputsMemory(outputs, produced);\\n        }\\n        return outputs;\\n    }\\n\\n    function processRouterInstruction(\\n        ProtocolTypes.ProtocolInstruction memory instruction\\n    ) internal returns (bool halt) {\\n        RouterInstruction memory routerInstruction = abi.decode(instruction.data, (RouterInstruction));\\n        if (routerInstruction.instructionType == RouterInstructionType.FlashLoan) {\\n            // instruction.data encodes: (RouterInstruction, FlashLoanProvider, InputPtr, address pool)\\n            // pool is only used for UniswapV3 (the actual pool address)\\n            (, FlashLoanProvider provider, ProtocolTypes.InputPtr memory inputPtr, address pool) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, FlashLoanProvider, ProtocolTypes.InputPtr, address)\\n            );\\n            processFlashLoan(provider, inputPtr, pool);\\n            return true; // halt to wait for callback\\n        } else if (routerInstruction.instructionType == RouterInstructionType.PullToken) {\\n            processPullToken(routerInstruction);\\n        } else if (routerInstruction.instructionType == RouterInstructionType.PushToken) {\\n            processPushToken(instruction);\\n        } else if (routerInstruction.instructionType == RouterInstructionType.ToOutput) {\\n            ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](1);\\n            out[0] = ProtocolTypes.Output({ token: routerInstruction.token, amount: routerInstruction.amount });\\n            _appendOutputs(out);\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Approve) {\\n            // instruction.data encodes: (RouterInstruction, string targetProtocol, InputPtr input)\\n            (, string memory targetProtocol, ProtocolTypes.InputPtr memory inputPtr) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, string, ProtocolTypes.InputPtr)\\n            );\\n            ProtocolTypes.Output[] memory inputs = _getOutputs();\\n            if (inputPtr.index >= inputs.length) revert BadIndex();\\n            address target;\\n            if (keccak256(abi.encode(targetProtocol)) == ROUTER_KEY) {\\n                target = address(this);\\n            } else {\\n                target = address(gateways[targetProtocol]);\\n            }\\n            if (target == address(0)) revert GatewayNotFound();\\n\\n            address tokenToApprove = inputs[inputPtr.index].token;\\n            uint256 amountToApprove = inputs[inputPtr.index].amount;\\n\\n            IERC20(tokenToApprove).approve(target, 0);\\n            IERC20(tokenToApprove).approve(target, amountToApprove);\\n            // Always produce an output (even if empty) to ensure consistent indexing\\n            ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](1);\\n            out[0] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            _appendOutputs(out);\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Split) {\\n            // Decode extra params: input pointer and basisPoints (e.g. 30 = 0.3%)\\n            (, ProtocolTypes.InputPtr memory inputPtr, uint256 bp) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr, uint256)\\n            );\\n            ProtocolTypes.Output[] memory inputs = _getOutputs();\\n            if (inputPtr.index >= inputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory orig = inputs[inputPtr.index];\\n            if (orig.token == address(0) || orig.amount == 0) revert NoValue();\\n            if (bp > 10000) revert FractionTooLarge();\\n            // Calculate fee = (orig.amount * bp) / 10000 (round up to ensure coverage)\\n            uint256 feeAmount = (orig.amount * bp + 10000 - 1) / 10000;\\n            if (feeAmount > orig.amount) feeAmount = orig.amount; // cap at 100%\\n            uint256 remainder = orig.amount - feeAmount;\\n            // Produce two outputs: fee portion and remainder portion\\n            ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](2);\\n            out[0] = ProtocolTypes.Output({ token: orig.token, amount: feeAmount });\\n            out[1] = ProtocolTypes.Output({ token: orig.token, amount: remainder });\\n            // Consume the original output by clearing it\\n            inputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            TBytes.set(OUTPUTS_SLOT, abi.encode(inputs));\\n            _appendOutputs(out);\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Add) {\\n            // Decode extra params: two input pointers\\n            (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n            );\\n            ProtocolTypes.Output[] memory inputs = _getOutputs();\\n            if (ptrA.index >= inputs.length || ptrB.index >= inputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory outA = inputs[ptrA.index];\\n            ProtocolTypes.Output memory outB = inputs[ptrB.index];\\n            if (outA.token == address(0) || outB.token == address(0)) revert ZeroToken();\\n            if (outA.token != outB.token) revert TokenMismatch();\\n            uint256 total = outA.amount + outB.amount;\\n            ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](1);\\n            out[0] = ProtocolTypes.Output({ token: outA.token, amount: total });\\n            // Clear the original outputs\\n            inputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            inputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            TBytes.set(OUTPUTS_SLOT, abi.encode(inputs));\\n            _appendOutputs(out);\\n        } else if (routerInstruction.instructionType == RouterInstructionType.Subtract) {\\n            // Decode extra params: two input pointers (minuend - subtrahend)\\n            (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                instruction.data,\\n                (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n            );\\n            ProtocolTypes.Output[] memory inputs = _getOutputs();\\n            if (ptrA.index >= inputs.length || ptrB.index >= inputs.length) revert BadIndex();\\n            ProtocolTypes.Output memory outA = inputs[ptrA.index];\\n            ProtocolTypes.Output memory outB = inputs[ptrB.index];\\n            if (outA.token == address(0) || outB.token == address(0)) revert ZeroToken();\\n            if (outA.token != outB.token) revert TokenMismatch();\\n            if (outA.amount < outB.amount) revert Underflow();\\n            uint256 diff = outA.amount - outB.amount;\\n            ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](1);\\n            out[0] = ProtocolTypes.Output({ token: outA.token, amount: diff });\\n            // Clear the original outputs\\n            inputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            inputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n            TBytes.set(OUTPUTS_SLOT, abi.encode(inputs));\\n            _appendOutputs(out);\\n        }\\n        return false;\\n    }\\n\\n    function processFlashLoan(\\n        FlashLoanProvider provider,\\n        ProtocolTypes.InputPtr memory inputPtr,\\n        address pool\\n    ) internal {\\n        // Read the amount and token from the output stack using InputPtr\\n        ProtocolTypes.Output[] memory inputs = _getOutputs();\\n        if (inputPtr.index >= inputs.length) revert BadIndex();\\n        ProtocolTypes.Output memory input = inputs[inputPtr.index];\\n        if (input.token == address(0)) revert ZeroToken();\\n        if (input.amount == 0) revert ZeroAmount();\\n\\n        // Route to the appropriate provider - enum directly maps to the pool\\n        if (provider == FlashLoanProvider.BalancerV2) {\\n            _requestBalancerV2(input.token, input.amount, bytes(\\\"\\\"));\\n        } else if (provider == FlashLoanProvider.BalancerV3) {\\n            _requestBalancerV3(input.token, input.amount);\\n        } else if (provider == FlashLoanProvider.Aave) {\\n            _requestAaveCompatible(\\\"aave\\\", input.token, input.amount, bytes(\\\"\\\"));\\n        } else if (provider == FlashLoanProvider.ZeroLend) {\\n            _requestAaveCompatible(\\\"zerolend\\\", input.token, input.amount, bytes(\\\"\\\"));\\n        } else if (provider == FlashLoanProvider.UniswapV3) {\\n            if (pool == address(0)) revert UniswapV3RequiresPoolAddress();\\n            _requestUniswapV3(pool, input.token, input.amount, bytes(\\\"\\\"));\\n        } else {\\n            revert UnsupportedFlashLoanProvider();\\n        }\\n    }\\n\\n    function processPullToken(RouterInstruction memory routerInstruction) internal authorize(routerInstruction) {\\n        IERC20(routerInstruction.token).safeTransferFrom(msg.sender, address(this), routerInstruction.amount);\\n        ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](1);\\n        out[0] = ProtocolTypes.Output({ token: routerInstruction.token, amount: routerInstruction.amount });\\n        _appendOutputs(out);\\n    }\\n\\n    function processPushToken(ProtocolTypes.ProtocolInstruction memory instruction) internal {\\n        // instruction.data encodes: (RouterInstruction, ProtocolTypes.InputPtr input)\\n    (, ProtocolTypes.InputPtr memory inputPtr) = abi.decode(\\n            instruction.data,\\n            (RouterInstruction, ProtocolTypes.InputPtr)\\n        );\\n        ProtocolTypes.Output[] memory inputs = _getOutputs();\\n        if (inputPtr.index >= inputs.length) revert BadIndex();\\n        ProtocolTypes.Output memory output = inputs[inputPtr.index];\\n        if (output.token == address(0)) revert ZeroToken();\\n        // Extract user from RouterInstruction in data\\n        if (output.amount != 0) {\\n            RouterInstruction memory routerInstruction;\\n            (routerInstruction, ) = abi.decode(instruction.data, (RouterInstruction, ProtocolTypes.InputPtr));\\n            IERC20(output.token).safeTransfer(routerInstruction.user, output.amount);\\n        }\\n        // Consume the UTXO by clearing it (set to zero)\\n        inputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n        TBytes.set(OUTPUTS_SLOT, abi.encode(inputs));\\n    }\\n\\n    modifier authorize(RouterInstruction memory routerInstruction) {\\n        if (routerInstruction.user != msg.sender) revert NotAuthorized();\\n        _;\\n    }\\n\\n    function _afterFlashLoan(address token, uint256 repaymentAmount, bytes memory /*userData*/) internal override {\\n        // Create UTXO from flash loan with the repayment amount (principal + fee)\\n        // This ensures refinancing can borrow exactly what's needed to repay\\n        ProtocolTypes.Output[] memory out = new ProtocolTypes.Output[](1);\\n        out[0] = ProtocolTypes.Output({ token: token, amount: repaymentAmount });\\n        _appendOutputs(out);\\n        runStack();\\n    }\\n\\n    // --------- Router-side authorize encoder ---------\\n    function authorizeRouter(\\n        RouterInstruction[] calldata instrs\\n    ) external view returns (address[] memory targets, bytes[] memory data) {\\n        uint256 count;\\n        for (uint256 i = 0; i < instrs.length; i++) {\\n            if (instrs[i].instructionType == RouterInstructionType.PullToken) count++;\\n        }\\n        targets = new address[](count);\\n        data = new bytes[](count);\\n        uint256 k;\\n        for (uint256 i = 0; i < instrs.length; i++) {\\n            RouterInstruction calldata r = instrs[i];\\n            if (r.instructionType == RouterInstructionType.PullToken) {\\n                targets[k] = r.token;\\n                data[k] = abi.encodeWithSelector(IERC20.approve.selector, address(this), r.amount);\\n                k++;\\n            }\\n        }\\n    }\\n\\n    // --------- Aggregate authorization for ProtocolInstructions ---------\\n    function authorizeInstructions(\\n        ProtocolTypes.ProtocolInstruction[] calldata instructions,\\n        address caller\\n    ) external view returns (address[] memory targets, bytes[] memory data) {\\n        // Simulation state (outputs)\\n        ProtocolTypes.Output[] memory outputs = new ProtocolTypes.Output[](0);\\n\\n        // Results - allocate extra space since gateways can return multiple auths per instruction\\n        // Each instruction could need: approval + enterMarkets + delegate approval = 3 max\\n        address[] memory tmpTargets = new address[](instructions.length * 3);\\n        bytes[] memory tmpData = new bytes[](instructions.length * 3);\\n        uint256 k;\\n\\n        for (uint256 i = 0; i < instructions.length; i++) {\\n            ProtocolTypes.ProtocolInstruction calldata pi = instructions[i];\\n\\n            // Router step\\n            if (keccak256(abi.encode(pi.protocolName)) == ROUTER_KEY) {\\n                RouterInstruction memory r = abi.decode(pi.data, (RouterInstruction));\\n\\n                // Default no auth\\n                tmpTargets[k] = address(0);\\n                tmpData[k] = bytes(\\\"\\\");\\n\\n                if (r.instructionType == RouterInstructionType.PullToken) {\\n                    if (r.user == caller) {\\n                        uint256 current = IERC20(r.token).allowance(caller, address(this));\\n                        if (current < r.amount) {\\n                            tmpTargets[k] = r.token;\\n                            tmpData[k] = abi.encodeWithSelector(IERC20.approve.selector, address(this), r.amount);\\n                        }\\n                    }\\n                    outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: r.token, amount: r.amount }));\\n                } else if (r.instructionType == RouterInstructionType.PushToken) {\\n                    (, ProtocolTypes.InputPtr memory inputPtr) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr)\\n                    );\\n                    if (inputPtr.index < outputs.length) {\\n                        outputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                    }\\n                } else if (r.instructionType == RouterInstructionType.ToOutput) {\\n                    outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: r.token, amount: r.amount }));\\n                } else if (r.instructionType == RouterInstructionType.Approve) {\\n                    outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                } else if (r.instructionType == RouterInstructionType.FlashLoan) {\\n                    // Simulate flashloan output WITH BUFFER for fees\\n                    (, , ProtocolTypes.InputPtr memory inputPtr, ) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, FlashLoanProvider, ProtocolTypes.InputPtr, address)\\n                    );\\n                    if (inputPtr.index < outputs.length) {\\n                        ProtocolTypes.Output memory loanOut = outputs[inputPtr.index];\\n                        // 0.1% Buffer for Flash Loan Fee simulation\\n                        // This ensures Repay instructions downstream request enough allowance\\n                        loanOut.amount = (loanOut.amount * 1001) / 1000;\\n                        outputs = _appendOutputMemory(outputs, loanOut);\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                } else if (r.instructionType == RouterInstructionType.Split) {\\n                    // Simulate Split: takes one output and produces two (fee + remainder)\\n                    (, ProtocolTypes.InputPtr memory inputPtr, uint256 bp) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr, uint256)\\n                    );\\n                    if (inputPtr.index < outputs.length) {\\n                        ProtocolTypes.Output memory orig = outputs[inputPtr.index];\\n                        uint256 feeAmount = (orig.amount * bp + 10000 - 1) / 10000;\\n                        if (feeAmount > orig.amount) feeAmount = orig.amount;\\n                        uint256 remainder = orig.amount - feeAmount;\\n                        // Clear the original\\n                        outputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        // Append fee and remainder\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: orig.token, amount: feeAmount }));\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: orig.token, amount: remainder }));\\n                    } else {\\n                        // Bad index, append two empty outputs for consistent indexing\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                } else if (r.instructionType == RouterInstructionType.Add) {\\n                    // Simulate Add: takes two outputs and produces one (sum)\\n                    (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n                    );\\n                    if (ptrA.index < outputs.length && ptrB.index < outputs.length) {\\n                        ProtocolTypes.Output memory outA = outputs[ptrA.index];\\n                        ProtocolTypes.Output memory outB = outputs[ptrB.index];\\n                        uint256 total = outA.amount + outB.amount;\\n                        // Clear the originals\\n                        outputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        // Append sum\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: outA.token, amount: total }));\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                } else if (r.instructionType == RouterInstructionType.Subtract) {\\n                    // Simulate Subtract: takes two outputs and produces one (difference)\\n                    (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n                    );\\n                    if (ptrA.index < outputs.length && ptrB.index < outputs.length) {\\n                        ProtocolTypes.Output memory outA = outputs[ptrA.index];\\n                        ProtocolTypes.Output memory outB = outputs[ptrB.index];\\n                        uint256 diff = outA.amount >= outB.amount ? outA.amount - outB.amount : 0;\\n                        // Clear the originals\\n                        outputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        // Append difference\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: outA.token, amount: diff }));\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                }\\n\\n                k++;\\n                continue;\\n            }\\n\\n            // Protocol step\\n            IGateway gw = gateways[pi.protocolName];\\n\\n            if (address(gw) == address(0)) {\\n                tmpTargets[k] = address(0);\\n                tmpData[k] = bytes(\\\"\\\");\\n                k++;\\n                continue;\\n            }\\n\\n            ProtocolTypes.LendingInstruction memory li = abi.decode(pi.data, (ProtocolTypes.LendingInstruction));\\n\\n            ProtocolTypes.LendingInstruction[] memory one = new ProtocolTypes.LendingInstruction[](1);\\n            one[0] = li;\\n\\n            // Call authorize with simulation inputs\\n            (address[] memory t, bytes[] memory d, ProtocolTypes.Output[] memory produced) = gw.authorize(\\n                one,\\n                caller,\\n                outputs\\n            );\\n\\n            // Handle ALL authorization calls from the gateway (not just the first)\\n            for (uint256 j = 0; j < t.length; j++) {\\n                if (t[j] != address(0) && d[j].length > 0) {\\n                    tmpTargets[k] = t[j];\\n                    tmpData[k] = d[j];\\n                    k++;\\n                }\\n            }\\n\\n            // Update simulation state\\n            if (produced.length > 0) {\\n                outputs = _concatOutputsMemory(outputs, produced);\\n            }\\n        }\\n\\n        // Compact\\n        targets = new address[](k);\\n        data = new bytes[](k);\\n        for (uint256 i = 0; i < k; i++) {\\n            targets[i] = tmpTargets[i];\\n            data[i] = tmpData[i];\\n        }\\n    }\\n\\n    function deauthorizeInstructions(\\n        ProtocolTypes.ProtocolInstruction[] calldata instructions,\\n        address caller\\n    ) external view returns (address[] memory targets, bytes[] memory data) {\\n        // We must track outputs even in deauth to resolve token addresses from indices\\n        ProtocolTypes.Output[] memory outputs = new ProtocolTypes.Output[](0);\\n\\n        // Estimate max size (Gateways might return multiple revokes per instruction)\\n        address[] memory tmpTargets = new address[](instructions.length * 3);\\n        bytes[] memory tmpData = new bytes[](instructions.length * 3);\\n        uint256 k;\\n\\n        for (uint256 i = 0; i < instructions.length; i++) {\\n            ProtocolTypes.ProtocolInstruction calldata pi = instructions[i];\\n\\n            // --- ROUTER INSTRUCTIONS ---\\n            if (keccak256(abi.encode(pi.protocolName)) == ROUTER_KEY) {\\n                RouterInstruction memory r = abi.decode(pi.data, (RouterInstruction));\\n\\n                if (r.instructionType == RouterInstructionType.PullToken) {\\n                    if (r.user == caller) {\\n                        // Revoke: Approve 0 to Router\\n                        tmpTargets[k] = r.token;\\n                        tmpData[k] = abi.encodeWithSelector(IERC20.approve.selector, address(this), 0);\\n                    } else {\\n                        tmpTargets[k] = address(0);\\n                        tmpData[k] = bytes(\\\"\\\");\\n                    }\\n                    // Update state for downstream instructions\\n                    outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: r.token, amount: r.amount }));\\n                } else if (r.instructionType == RouterInstructionType.PushToken) {\\n                    (, ProtocolTypes.InputPtr memory inputPtr) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr)\\n                    );\\n                    if (inputPtr.index < outputs.length)\\n                        outputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                } else if (r.instructionType == RouterInstructionType.ToOutput) {\\n                    outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: r.token, amount: r.amount }));\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                } else if (r.instructionType == RouterInstructionType.Approve) {\\n                    outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                } else if (r.instructionType == RouterInstructionType.FlashLoan) {\\n                    // Simulate flashloan output for indexing consistency\\n                    (, , ProtocolTypes.InputPtr memory inputPtr, ) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, FlashLoanProvider, ProtocolTypes.InputPtr, address)\\n                    );\\n                    if (inputPtr.index < outputs.length) {\\n                        outputs = _appendOutputMemory(outputs, outputs[inputPtr.index]);\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                } else if (r.instructionType == RouterInstructionType.Split) {\\n                    // Simulate Split output for indexing consistency (no revocation needed)\\n                    (, ProtocolTypes.InputPtr memory inputPtr, uint256 bp) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr, uint256)\\n                    );\\n                    if (inputPtr.index < outputs.length) {\\n                        ProtocolTypes.Output memory orig = outputs[inputPtr.index];\\n                        uint256 feeAmount = (orig.amount * bp + 10000 - 1) / 10000;\\n                        if (feeAmount > orig.amount) feeAmount = orig.amount;\\n                        uint256 remainder = orig.amount - feeAmount;\\n                        outputs[inputPtr.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: orig.token, amount: feeAmount }));\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: orig.token, amount: remainder }));\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                } else if (r.instructionType == RouterInstructionType.Add) {\\n                    // Simulate Add output for indexing consistency (no revocation needed)\\n                    (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n                    );\\n                    if (ptrA.index < outputs.length && ptrB.index < outputs.length) {\\n                        ProtocolTypes.Output memory outA = outputs[ptrA.index];\\n                        ProtocolTypes.Output memory outB = outputs[ptrB.index];\\n                        uint256 total = outA.amount + outB.amount;\\n                        outputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: outA.token, amount: total }));\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                } else if (r.instructionType == RouterInstructionType.Subtract) {\\n                    // Simulate Subtract output for indexing consistency (no revocation needed)\\n                    (, ProtocolTypes.InputPtr memory ptrA, ProtocolTypes.InputPtr memory ptrB) = abi.decode(\\n                        pi.data,\\n                        (RouterInstruction, ProtocolTypes.InputPtr, ProtocolTypes.InputPtr)\\n                    );\\n                    if (ptrA.index < outputs.length && ptrB.index < outputs.length) {\\n                        ProtocolTypes.Output memory outA = outputs[ptrA.index];\\n                        ProtocolTypes.Output memory outB = outputs[ptrB.index];\\n                        uint256 diff = outA.amount >= outB.amount ? outA.amount - outB.amount : 0;\\n                        outputs[ptrA.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs[ptrB.index] = ProtocolTypes.Output({ token: address(0), amount: 0 });\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: outA.token, amount: diff }));\\n                    } else {\\n                        outputs = _appendOutputMemory(outputs, ProtocolTypes.Output({ token: address(0), amount: 0 }));\\n                    }\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                }\\n                k++;\\n                continue;\\n            }\\n\\n            // --- GATEWAY INSTRUCTIONS ---\\n            IGateway gw = gateways[pi.protocolName];\\n            if (address(gw) == address(0)) {\\n                tmpTargets[k] = address(0);\\n                tmpData[k] = bytes(\\\"\\\");\\n                k++;\\n                continue;\\n            }\\n\\n            ProtocolTypes.LendingInstruction[] memory one = new ProtocolTypes.LendingInstruction[](1);\\n            one[0] = abi.decode(pi.data, (ProtocolTypes.LendingInstruction));\\n\\n            // 1. Get Revocation Call(s)\\n            (address[] memory t, bytes[] memory d) = gw.deauthorize(one, caller, outputs);\\n\\n            for (uint j = 0; j < t.length; j++) {\\n                if (t[j] != address(0)) {\\n                    tmpTargets[k] = t[j];\\n                    tmpData[k] = d[j];\\n                } else {\\n                    tmpTargets[k] = address(0);\\n                    tmpData[k] = bytes(\\\"\\\");\\n                }\\n                k++;\\n            }\\n\\n            // 2. Update Simulation State (using authorize view)\\n            // We ignore the targets returned here, we only want 'produced' outputs\\n            (, , ProtocolTypes.Output[] memory produced) = gw.authorize(one, caller, outputs);\\n            if (produced.length > 0) outputs = _concatOutputsMemory(outputs, produced);\\n        }\\n\\n        // Compact results to remove empty slots\\n        uint256 actualCount = 0;\\n        for (uint i = 0; i < k; i++) {\\n            if (tmpTargets[i] != address(0)) actualCount++;\\n        }\\n        targets = new address[](actualCount);\\n        data = new bytes[](actualCount);\\n        uint256 idx = 0;\\n        for (uint i = 0; i < k; i++) {\\n            if (tmpTargets[i] != address(0)) {\\n                targets[idx] = tmpTargets[i];\\n                data[idx] = tmpData[i];\\n                idx++;\\n            }\\n        }\\n    }\\n\\n    function _getOutputs() internal view returns (ProtocolTypes.Output[] memory out) {\\n        bytes memory raw = TBytes.get(OUTPUTS_SLOT);\\n        if (raw.length == 0) return new ProtocolTypes.Output[](0);\\n        return abi.decode(raw, (ProtocolTypes.Output[]));\\n    }\\n\\n    function _appendOutputs(ProtocolTypes.Output[] memory produced) internal {\\n        ProtocolTypes.Output[] memory cur = _getOutputs();\\n        ProtocolTypes.Output[] memory merged = new ProtocolTypes.Output[](cur.length + produced.length);\\n        for (uint256 i = 0; i < cur.length; i++) {\\n            merged[i] = cur[i];\\n        }\\n        for (uint256 j = 0; j < produced.length; j++) {\\n            merged[cur.length + j] = produced[j];\\n        }\\n        TBytes.set(OUTPUTS_SLOT, abi.encode(merged));\\n    }\\n\\n    function _appendOutputMemory(\\n        ProtocolTypes.Output[] memory current,\\n        ProtocolTypes.Output memory item\\n    ) internal pure returns (ProtocolTypes.Output[] memory) {\\n        ProtocolTypes.Output[] memory next = new ProtocolTypes.Output[](current.length + 1);\\n        for (uint i = 0; i < current.length; i++) next[i] = current[i];\\n        next[current.length] = item;\\n        return next;\\n    }\\n\\n    function _concatOutputsMemory(\\n        ProtocolTypes.Output[] memory current,\\n        ProtocolTypes.Output[] memory items\\n    ) internal pure returns (ProtocolTypes.Output[] memory) {\\n        ProtocolTypes.Output[] memory next = new ProtocolTypes.Output[](current.length + items.length);\\n        for (uint i = 0; i < current.length; i++) next[i] = current[i];\\n        for (uint j = 0; j < items.length; j++) next[current.length + j] = items[j];\\n        return next;\\n    }\\n}\\n\",\"keccak256\":\"0x0112ea351b5b6d238d646df2220e443d03b636d42d41b58250cdf1b6dda60793\",\"license\":\"MIT\"},\"contracts/v2/flashloans/FlashLoanConsumerBase.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\nimport { IERC20 } from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport { SafeERC20 } from \\\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\\\";\\n\\n// --- Existing Balancer imports ---\\nimport { IFlashLoanProvider } from \\\"../interfaces/balancer/IFlashLoanProvider.sol\\\";\\nimport { IVaultV3 } from \\\"../interfaces/balancer/IVaultV3.sol\\\";\\n\\n// --- Minimal Aave v3 interfaces (flashLoanSimple) ---\\ninterface IAaveV3Pool {\\n    function flashLoanSimple(\\n        address receiverAddress,\\n        address asset,\\n        uint256 amount,\\n        bytes calldata params,\\n        uint16 referralCode\\n    ) external;\\n}\\n\\ninterface IAaveFlashLoanSimpleReceiver {\\n    function executeOperation(\\n        address asset,\\n        uint256 amount,\\n        uint256 premium,\\n        address initiator,\\n        bytes calldata params\\n    ) external returns (bool);\\n}\\n\\n// --- Minimal Uniswap v3 factory/pool interfaces (with auth support) ---\\ninterface IUniswapV3Factory {\\n    function getPool(address tokenA, address tokenB, uint24 fee) external view returns (address);\\n}\\n\\ninterface IUniswapV3Pool {\\n    function token0() external view returns (address);\\n    function token1() external view returns (address);\\n    function fee() external view returns (uint24);\\n    function factory() external view returns (address);\\n\\n    function flash(address recipient, uint256 amount0, uint256 amount1, bytes calldata data) external;\\n}\\n\\n/// @notice Abstract base supporting Balancer v2/v3, Aave v3 (and forks like ZeroLend) and Uniswap v3 flash sources.\\n///         Security model: callback is accepted IFF it is in the middle of an expected flash flow AND sender matches\\n///         the expected provider/pool (plus basic provider-specific validation).\\nabstract contract FlashLoanConsumerBase is IAaveFlashLoanSimpleReceiver {\\n    using SafeERC20 for IERC20;\\n\\n    // ----------------- Providers (config) -----------------\\n    IFlashLoanProvider public balancerV2Vault; // Balancer v2 Vault\\n    IVaultV3 public balancerV3Vault;          // Balancer v3 Vault\\n\\n    mapping(bytes32 => address) public aaveCompatiblePools; // key hash => pool address\\n    mapping(address => bool) public isAaveCompatiblePool;   // callback validation allowlist\\n\\n    // Trusted Uniswap v3 factory (non-zero enables Uniswap v3)\\n    address public uniswapV3Factory;\\n\\n    // ----------------- Callback guard -----------------\\n    bool private flashLoanEnabled;\\n    address private authorizedFlashSender;\\n\\n    // ----------------- Events -----------------\\n    event FlashRequested(bytes32 provider, address indexed token, uint256 amount);\\n    event FlashRepaid(bytes32 provider, address indexed token, uint256 amountWithFee);\\n\\n    // ----------------- Setters -----------------\\n    function _setBalancerV2(address provider) internal {\\n        balancerV2Vault = IFlashLoanProvider(provider);\\n    }\\n\\n    function _setBalancerV3(address vault) internal {\\n        balancerV3Vault = IVaultV3(vault);\\n    }\\n\\n    function _addAaveCompatiblePool(string memory key, address pool) internal {\\n        bytes32 keyHash = keccak256(abi.encodePacked(key));\\n        address oldPool = aaveCompatiblePools[keyHash];\\n        if (oldPool != address(0)) isAaveCompatiblePool[oldPool] = false;\\n\\n        aaveCompatiblePools[keyHash] = pool;\\n        if (pool != address(0)) isAaveCompatiblePool[pool] = true;\\n    }\\n\\n    function _removeAaveCompatiblePool(string memory key) internal {\\n        bytes32 keyHash = keccak256(abi.encodePacked(key));\\n        address pool = aaveCompatiblePools[keyHash];\\n        if (pool != address(0)) {\\n            isAaveCompatiblePool[pool] = false;\\n            aaveCompatiblePools[keyHash] = address(0);\\n        }\\n    }\\n\\n    function getAaveCompatiblePool(string memory key) public view returns (address) {\\n        return aaveCompatiblePools[keccak256(abi.encodePacked(key))];\\n    }\\n\\n    function _setUniswapV3Factory(address factory) internal {\\n        uniswapV3Factory = factory;\\n    }\\n\\n    // ----------------- Enabled flags -----------------\\n    function balancerV2Enabled() public view returns (bool) {\\n        return address(balancerV2Vault) != address(0);\\n    }\\n\\n    function balancerV3Enabled() public view returns (bool) {\\n        return address(balancerV3Vault) != address(0);\\n    }\\n\\n    function aaveEnabledForKey(string memory key) public view returns (bool) {\\n        return aaveCompatiblePools[keccak256(abi.encodePacked(key))] != address(0);\\n    }\\n\\n    function uniswapEnabled() public view returns (bool) {\\n        return uniswapV3Factory != address(0);\\n    }\\n\\n    // ----------------- Guard modifiers -----------------\\n    modifier flashLoanOnly() {\\n        require(flashLoanEnabled, \\\"Flash loan not enabled\\\");\\n        require(msg.sender == authorizedFlashSender, \\\"Unauthorized flash caller\\\");\\n        _;\\n    }\\n\\n    /// @dev Sets the expected sender for the callback and enables the flash-loan-only gate.\\n    ///      Includes a no-nesting guard for clarity/safety.\\n    modifier authorizeFlashLoan(address expectedSender) {\\n        require(!flashLoanEnabled, \\\"Nested flash not allowed\\\");\\n        flashLoanEnabled = true;\\n        authorizedFlashSender = expectedSender;\\n        _;\\n        authorizedFlashSender = address(0);\\n        flashLoanEnabled = false;\\n    }\\n\\n    // ============================================================\\n    //                          BALANCER V2\\n    // ============================================================\\n\\n    function _requestBalancerV2(\\n        address token,\\n        uint256 amount,\\n        bytes memory userData\\n    ) internal authorizeFlashLoan(address(balancerV2Vault)) {\\n        require(balancerV2Enabled(), \\\"Balancer v2 disabled\\\");\\n        require(token != address(0) && amount > 0, \\\"Bad params\\\");\\n\\n        IERC20[] memory tokens = new IERC20[](1);\\n        tokens[0] = IERC20(token);\\n        uint256[] memory amounts = new uint256[](1);\\n        amounts[0] = amount;\\n\\n        emit FlashRequested(\\\"BALANCER_V2\\\", token, amount);\\n        balancerV2Vault.flashLoan(address(this), tokens, amounts, userData);\\n    }\\n\\n    function receiveFlashLoan(\\n        IERC20[] calldata tokens,\\n        uint256[] calldata amounts,\\n        uint256[] calldata feeAmounts,\\n        bytes calldata userData\\n    ) external flashLoanOnly {\\n        // defense-in-depth (even though flashLoanOnly already checked)\\n        require(msg.sender == address(balancerV2Vault), \\\"Unauthorized Balancer v2\\\");\\n        require(tokens.length == 1, \\\"Only single-asset supported\\\");\\n\\n        uint256 repayment = amounts[0] + feeAmounts[0];\\n        _afterFlashLoan(address(tokens[0]), repayment, userData);\\n\\n        tokens[0].safeTransfer(address(balancerV2Vault), repayment);\\n        emit FlashRepaid(\\\"BALANCER_V2\\\", address(tokens[0]), repayment);\\n    }\\n\\n    // ============================================================\\n    //                          BALANCER V3\\n    // ============================================================\\n\\n    function _requestBalancerV3(address token, uint256 amount)\\n        internal\\n        authorizeFlashLoan(address(balancerV3Vault))\\n    {\\n        require(balancerV3Enabled(), \\\"Balancer v3 disabled\\\");\\n        require(token != address(0) && amount > 0, \\\"Bad params\\\");\\n\\n        bytes memory userData = abi.encode(token, amount);\\n        bytes memory callData = abi.encodeWithSelector(this.receiveFlashLoanV3.selector, userData);\\n\\n        emit FlashRequested(\\\"BALANCER_V3\\\", token, amount);\\n        balancerV3Vault.unlock(callData);\\n    }\\n\\n    function receiveFlashLoanV3(bytes calldata userData) external flashLoanOnly {\\n        require(msg.sender == address(balancerV3Vault), \\\"Unauthorized Balancer v3\\\");\\n\\n        (address token, uint256 amount) = abi.decode(userData, (address, uint256));\\n        require(token != address(0) && amount > 0, \\\"Bad params\\\");\\n\\n        balancerV3Vault.sendTo(token, address(this), amount);\\n\\n        // NOTE: If Balancer v3 charges a fee in your deployment context, adjust repayment accordingly.\\n        _afterFlashLoan(token, amount, userData);\\n\\n        IERC20(token).safeTransfer(address(balancerV3Vault), amount);\\n        balancerV3Vault.settle(token, amount);\\n\\n        emit FlashRepaid(\\\"BALANCER_V3\\\", token, amount);\\n    }\\n\\n    // ============================================================\\n    //                   AAVE V3 & COMPATIBLE FORKS\\n    // ============================================================\\n\\n    function _requestAaveCompatible(\\n        string memory poolKey,\\n        address token,\\n        uint256 amount,\\n        bytes memory userData\\n    ) internal {\\n        address pool = aaveCompatiblePools[keccak256(abi.encodePacked(poolKey))];\\n        require(pool != address(0), \\\"Aave pool not registered for key\\\");\\n        _requestAaveCompatibleInternal(pool, token, amount, userData);\\n    }\\n\\n    function _requestAaveCompatibleInternal(\\n        address pool,\\n        address token,\\n        uint256 amount,\\n        bytes memory userData\\n    ) private authorizeFlashLoan(pool) {\\n        require(token != address(0) && amount > 0, \\\"Bad params\\\");\\n\\n        emit FlashRequested(\\\"AAVE_COMPATIBLE\\\", token, amount);\\n        IAaveV3Pool(pool).flashLoanSimple(address(this), token, amount, userData, 0);\\n    }\\n\\n    function executeOperation(\\n        address asset,\\n        uint256 amount,\\n        uint256 premium,\\n        address initiator,\\n        bytes calldata params\\n    ) external override flashLoanOnly returns (bool) {\\n        require(isAaveCompatiblePool[msg.sender], \\\"Unauthorized Aave pool\\\");\\n        require(initiator == address(this), \\\"Bad initiator\\\");\\n\\n        uint256 repayment = amount + premium;\\n        _afterFlashLoan(asset, repayment, params);\\n\\n        IERC20(asset).approve(msg.sender, 0);\\n        IERC20(asset).approve(msg.sender, repayment);\\n\\n        emit FlashRepaid(\\\"AAVE_COMPATIBLE\\\", asset, repayment);\\n        return true;\\n    }\\n\\n    // ============================================================\\n    //                          UNISWAP V3\\n    // ============================================================\\n\\n    function _requestUniswapV3(\\n        address pool,\\n        address token,\\n        uint256 amount,\\n        bytes memory userData\\n    ) internal authorizeFlashLoan(pool) {\\n        require(uniswapEnabled(), \\\"Uniswap v3 disabled\\\");\\n        require(pool != address(0), \\\"Pool required\\\");\\n        require(token != address(0) && amount > 0, \\\"Bad params\\\");\\n\\n        // Authenticate pool against trusted factory + canonical getPool\\n        IUniswapV3Pool p = IUniswapV3Pool(pool);\\n        require(p.factory() == uniswapV3Factory, \\\"Pool not from trusted factory\\\");\\n\\n        address t0 = p.token0();\\n        address t1 = p.token1();\\n        uint24 fee = p.fee();\\n        address canonical = IUniswapV3Factory(uniswapV3Factory).getPool(t0, t1, fee);\\n        require(canonical == pool, \\\"Non-canonical Uniswap pool\\\");\\n\\n        bool is0 = token == t0;\\n        bool is1 = token == t1;\\n        require(is0 || is1, \\\"Token not in pool\\\");\\n\\n        bytes memory data = abi.encode(pool, token, amount, userData, is0);\\n\\n        emit FlashRequested(\\\"UNISWAP_V3\\\", token, amount);\\n        p.flash(address(this), is0 ? amount : 0, is1 ? amount : 0, data);\\n    }\\n\\n    function uniswapV3FlashCallback(uint256 fee0, uint256 fee1, bytes calldata data) external flashLoanOnly {\\n        (address pool, address token, uint256 amount, bytes memory userData, bool is0) =\\n            abi.decode(data, (address, address, uint256, bytes, bool));\\n\\n        require(msg.sender == pool, \\\"Unauthorized Uniswap pool\\\");\\n\\n        // Defense-in-depth: re-check factory/canonical\\n        IUniswapV3Pool p = IUniswapV3Pool(pool);\\n        require(p.factory() == uniswapV3Factory, \\\"Pool not from trusted factory\\\");\\n        address canonical = IUniswapV3Factory(uniswapV3Factory).getPool(p.token0(), p.token1(), p.fee());\\n        require(canonical == pool, \\\"Non-canonical Uniswap pool\\\");\\n\\n        uint256 fee = is0 ? fee0 : fee1;\\n        uint256 repayment = amount + fee;\\n\\n        _afterFlashLoan(token, repayment, userData);\\n\\n        IERC20(token).safeTransfer(msg.sender, repayment);\\n        emit FlashRepaid(\\\"UNISWAP_V3\\\", token, repayment);\\n    }\\n\\n    // ============================================================\\n    //                       ABSTRACT RESUME HOOK\\n    // ============================================================\\n\\n    function _afterFlashLoan(address token, uint256 repaymentAmount, bytes memory userData) internal virtual;\\n}\\n\",\"keccak256\":\"0x8511d0a3137e2f9ff2397b12c50a478b397f29b8084f33c8046bd3e7850304c5\",\"license\":\"MIT\"},\"contracts/v2/interfaces/IGateway.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\nimport { ProtocolTypes } from \\\"./ProtocolTypes.sol\\\";\\n\\ninterface IGateway {\\n    function processLendingInstruction(\\n        ProtocolTypes.Output[] calldata inputs,\\n        bytes calldata data\\n    ) external returns (ProtocolTypes.Output[] memory outputs);\\n\\n    /// @notice Return user-side authorization calls for the given lending instructions.\\n    ///         One element per input (or (address(0), bytes(\\\"\\\")) if none needed).\\n    ///         Also returns the produced outputs from the simulation of these instructions.\\n    function authorize(\\n        ProtocolTypes.LendingInstruction[] calldata instrs,\\n        address caller,\\n        ProtocolTypes.Output[] calldata inputs\\n    ) external view returns (address[] memory targets, bytes[] memory data, ProtocolTypes.Output[] memory produced);\\n\\n    /// @notice Return user-side deauthorization calls for the given lending instructions.\\n    ///         Used to revoke permissions after execution.\\n    function deauthorize(\\n        ProtocolTypes.LendingInstruction[] calldata instrs,\\n        address caller,\\n        ProtocolTypes.Output[] calldata inputs\\n    ) external view returns (address[] memory targets, bytes[] memory data);\\n}\\n\",\"keccak256\":\"0xbc1637125628d97b4128f3659afdee1a49cacef6f74dd26b7674bf4807c4512a\",\"license\":\"MIT\"},\"contracts/v2/interfaces/ProtocolTypes.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\nlibrary ProtocolTypes {\\n    struct ProtocolInstruction {\\n        string protocolName;\\n        bytes data;\\n    }\\n\\n    struct Output {\\n        address token;\\n        uint256 amount;\\n    }\\n\\n    // Common lending instruction schema for gateways (deposit/withdraw/borrow/repay)\\n    enum LendingOp {\\n        Deposit,\\n        DepositCollateral,\\n        WithdrawCollateral,\\n        Borrow,\\n        Repay,\\n        GetBorrowBalance,\\n        GetSupplyBalance,\\n        Swap,\\n        SwapExactOut,\\n        SetEMode  // Aave V3 E-Mode: amount encodes categoryId (0 = disable E-Mode)\\n    }\\n    struct InputPtr {\\n        uint256 index;\\n    }\\n    /**\\n     * Cross-protocol instruction.\\n     * - For Compound you can pass `context = abi.encode(address marketBaseToken)`\\n     *   which tells the gateway which Comet (market) to use. Empty means infer from token.\\n     */\\n    struct LendingInstruction {\\n        LendingOp op;\\n        address token; // underlying being acted on (base or collateral)\\n        address user; // end user on whose account we operate\\n        uint256 amount; // amount in underlying units\\n        bytes context; // (optional) protocol-specific blob (e.g., Compound marketBaseToken)\\n        InputPtr input; // (optional) pointer to prior output (UTXO); use if index < inputs.length\\n    }\\n}\\n\",\"keccak256\":\"0x6b3d27ea42baef69a30052ada687149250a56be5942577d654f2f2142a5510c6\",\"license\":\"MIT\"},\"contracts/v2/interfaces/balancer/IFlashLoanProvider.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\ninterface IFlashLoanProvider {\\n    function flashLoan(\\n        address receiver,\\n        IERC20[] calldata tokens,\\n        uint256[] calldata amounts,\\n        bytes calldata userData\\n    ) external;\\n}\\n\\n\\n\",\"keccak256\":\"0x290b39984bd5e538eec11575e513877a4806d18e3f96e9fbed9e3cfb94a67882\",\"license\":\"MIT\"},\"contracts/v2/interfaces/balancer/IVaultV3.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\ninterface IVaultV3 {\\n    function unlock(bytes calldata data) external returns (bytes memory result);\\n    function sendTo(address token, address to, uint256 amount) external;\\n    function settle(address token, uint256 amount) external;\\n}\\n\\n\\n\",\"keccak256\":\"0x92c70e53bbd17b6d73dc9c7cad41a15ca48256b0cbbadbbd65d02a9f87ebce8f\",\"license\":\"MIT\"},\"contracts/v2/libraries/TBytes.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.30;\\n\\n/// @notice Minimal transient bytes encoder/decoder.\\n/// Layout at `base`:\\n///   base:    uint256 length in bytes\\n///   base+1 \\u2026 base+N: data words (ceil(len/32) words)\\nlibrary TBytes {\\n    /// @dev Store `src` at `base` (overwrites previous content). Tail bytes are zero-masked.\\n    function set(bytes32 base, bytes memory src) internal {\\n        assembly {\\n            let len := mload(src)\\n            tstore(base, len)\\n\\n            let ptr := add(src, 0x20)\\n            let full := div(len, 32)\\n            let rem := mod(len, 32)\\n\\n            // store full words\\n            for { let i := 0 } lt(i, full) { i := add(i, 1) } {\\n                tstore(add(base, add(1, i)), mload(add(ptr, mul(i, 32))))\\n            }\\n\\n            // store last partial (masked) word\\n            if rem {\\n                let last := mload(add(ptr, mul(full, 32)))\\n                // keep top `rem` bytes, zero the low (32 - rem) bytes\\n                let mask := not(sub(exp(256, sub(32, rem)), 1))\\n                last := and(last, mask)\\n                tstore(add(base, add(1, full)), last)\\n            }\\n            // Note: we do not need to clear old extra words; reads use the exact byte length.\\n        }\\n    }\\n\\n    /// @dev Load bytes previously written at `base`.\\n    function get(bytes32 base) internal view returns (bytes memory out) {\\n        assembly {\\n            let len := tload(base)\\n            out := mload(0x40)\\n            mstore(out, len)\\n\\n            let dst := add(out, 0x20)\\n            let full := div(len, 32)\\n            let rem := mod(len, 32)\\n\\n            for { let i := 0 } lt(i, full) { i := add(i, 1) } {\\n                mstore(add(dst, mul(i, 32)), tload(add(base, add(1, i))))\\n            }\\n            if rem {\\n                mstore(add(dst, mul(full, 32)), tload(add(base, add(1, full))))\\n            }\\n\\n            // bump free memory pointer to ceil32(len)\\n            mstore(0x40, add(dst, and(add(len, 31), not(31))))\\n        }\\n    }\\n\\n    /// @dev Number of data words currently stored (ceil(len/32)).\\n    function wordCount(bytes32 base) internal view returns (uint256 words) {\\n        uint256 len;\\n        assembly { len := tload(base) }\\n        unchecked { words = (len + 31) >> 5; }\\n    }\\n\\n    /// @dev Clear the region (length and words).\\n    function clear(bytes32 base) internal {\\n        assembly {\\n            let len := tload(base)\\n            let words := add(div(len, 32), iszero(iszero(mod(len, 32))))\\n            tstore(base, 0)\\n            for { let i := 0 } lt(i, words) { i := add(i, 1) } {\\n                tstore(add(base, add(1, i)), 0)\\n            }\\n        }\\n    }\\n}\\n\\n\\n\",\"keccak256\":\"0xc631dc6a05900ecde87014e87415902e1da918771c5a10798d261ce2e9bc31aa\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60803460bc57601f615e7138819003918201601f19168301916001600160401b0383118484101760c05780849260209460405283398101031260bc57516001600160a01b0381169081900360bc57801560a9575f80546001600160a01b031981168317825560405192916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a360018055615d9c90816100d58239f35b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe60806040526004361015610011575f80fd5b5f3560e01c80630acefd35146101d457806310c0a157146101cf5780631b11d0ff146101ca57806328c18416146101c55780632a2b8f78146101c0578063349f937c146101bb5780635b549182146101b65780635eaa9da3146101b1578063715018a6146101ac5780638da5cb5b146101a7578063a6ed7be3146101a2578063ba3dba8a1461019d578063bba8a3dc14610198578063bd3fd0ec14610193578063bf11f4af1461018e578063bf1e4cf614610189578063c3865d5714610184578063d7eddf391461017f578063d7ff41bf1461017a578063db236a1f14610175578063e30b155e14610170578063e85113031461016b578063e9cbafb014610166578063f04f270714610161578063f07b6e641461015c578063f0dbeea514610157578063f2fde38b146101525763faea56e21461014d575f80fd5b611bb4565b611b2b565b611a19565b6119e7565b61194a565b611663565b61161c565b6115cf565b611594565b610c2f565b610b81565b610b5b565b610b14565b61090e565b6108e8565b6108a8565b610878565b61080d565b610723565b6106cc565b6106a0565b610678565b610641565b6105ef565b61045a565b610282565b61020f565b6101e7565b5f9103126101e357565b5f80fd5b346101e3575f3660031901126101e3576003546040516001600160a01b039091168152602090f35b346101e3575f3660031901126101e3576002546040516001600160a01b039091168152602090f35b6001600160a01b038116036101e357565b359061025382610237565b565b9181601f840112156101e3578235916001600160401b0383116101e357602083818601950101116101e357565b346101e35760a03660031901126101e35760043561029f81610237565b604435906024356064356102b281610237565b6084356001600160401b0381116101e3576103309461033d936102dc610335933690600401610255565b9790946102f060ff60065460a01c166122f0565b61030560018060a01b03600754163314612335565b335f908152600560205260409020546103209060ff16612381565b6001600160a01b031630146123c6565b61242a565b933691610571565b5061034882826133a7565b60405163095ea7b360e01b81523360048201525f60248201526001600160a01b03919091169190602081806044810103815f875af180156104385761043d575b5060405163095ea7b360e01b815233600482015260248101829052906020826044815f875af1908115610438575f516020615ce75f395f51905f52926103f79261040b575b50604051918291829190602060408401936e414156455f434f4d50415449424c4560881b81520152565b0390a26040516001815280602081015b0390f35b61042c9060203d602011610431575b6104248183610526565b810190612441565b6103cd565b503d61041a565b612456565b6104559060203d602011610431576104248183610526565b610388565b346101e35760203660031901126101e35760043561047781610237565b61047f6133f1565b600280546001600160a01b0319166001600160a01b0392909216919091179055005b634e487b7160e01b5f52604160045260245ffd5b604081019081106001600160401b038211176104d057604052565b6104a1565b608081019081106001600160401b038211176104d057604052565b602081019081106001600160401b038211176104d057604052565b60c081019081106001600160401b038211176104d057604052565b90601f801991011681019081106001600160401b038211176104d057604052565b60405190610253604083610526565b6001600160401b0381116104d057601f01601f191660200190565b92919261057d82610556565b9161058b6040519384610526565b8294818452818301116101e3578281602093845f960137010152565b9080601f830112156101e3578160206105c293359101610571565b90565b60206003198201126101e357600435906001600160401b0382116101e3576105c2916004016105a7565b346101e3576105fd366105c5565b60405161062081610612602082018095611565565b03601f198101835282610526565b5190205f526004602052602060018060a01b0360405f205416604051908152f35b346101e35760203660031901126101e35761067660043561066181610237565b6106696133f1565b610671612475565b613417565b005b346101e3575f3660031901126101e3576006546040516001600160a01b039091168152602090f35b346101e3575f3660031901126101e3576002546020906001600160a01b031615155b6040519015158152f35b346101e3575f3660031901126101e3576106e46133f1565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b346101e3575f3660031901126101e3575f546040516001600160a01b039091168152602090f35b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b604081016040825282518091526020606083019301905f5b8181106107ee575050506020818303910152815180825260208201916020808360051b8301019401925f915b8383106107c157505050505090565b90919293946020806107df600193601f19868203018752895161074a565b970193019301919392906107b2565b82516001600160a01b0316855260209485019490920191600101610786565b346101e35760203660031901126101e3576004356001600160401b0381116101e357366023820112156101e35780600401356001600160401b0381116101e3573660248260071b840101116101e357602461086892016125d2565b906104076040519283928361076e565b346101e35760203660031901126101e35761067660043561089881610237565b6108a06133f1565b6106716126c7565b346101e35760203660031901126101e3576004356108c581610237565b60018060a01b03165f526005602052602060ff60405f2054166040519015158152f35b346101e3575f3660031901126101e3576006546020906001600160a01b031615156106c2565b346101e35760203660031901126101e3576004356001600160401b0381116101e35761093e903690600401610255565b9061095060ff60065460a01c166122f0565b61096560018060a01b03600754163314612335565b600354610982906001600160a01b03165b6001600160a01b031690565b6109966001600160a01b03821633146126ed565b6109a283830183612739565b6001600160a01b039091169390929084151580610b0b575b6109c390612758565b823b156101e35760405163ae63932960e01b81526001600160a01b038616600482015230602482015260448101859052925f908490606490829084905af192831561043857610a1993610af7575b503691610571565b50610a2481836133a7565b600354610a45908290610a3f906001600160a01b0316610976565b846134b4565b600354610a5a906001600160a01b0316610976565b90813b156101e3576040516315afd40960e01b81526001600160a01b038416600482015260248101829052915f908390604490829084905af1908115610438575f516020615ce75f395f51905f5292610ad892610add575b50604051918291829190602060408401936a42414c414e4345525f563360a81b81520152565b0390a2005b80610aeb5f610af193610526565b806101d9565b5f610ab2565b80610aeb5f610b0593610526565b5f610a11565b508315156109ba565b346101e35760203660031901126101e357600435610b3181610237565b610b396133f1565b600680546001600160a01b0319166001600160a01b0392909216919091179055005b346101e3575f3660031901126101e3576003546020906001600160a01b031615156106c2565b346101e357610b8f366105c5565b604051610ba481610612602082018095611565565b5190205f526004602052602060018060a01b0360405f2054161515604051908152f35b9181601f840112156101e3578235916001600160401b0383116101e3576020808501948460051b0101116101e357565b60406003198201126101e357600435906001600160401b0382116101e357610c2191600401610bc7565b90916024356105c281610237565b346101e357610c3d36610bf7565b610c48929192612791565b92610c5a610c55826128c9565b61251c565b93610c6c610c67836128c9565b61254e565b935f935f925b848410610d0857878787610c858161251c565b91610c8f8261254e565b935f5b838110610ca8576040518061040788888361076e565b80610ce1610cc8610cbb600194866125be565b516001600160a01b031690565b610cd283896125be565b6001600160a01b039091169052565b610ceb81856125be565b51610cf682896125be565b52610d0181886125be565b5001610c92565b610d1a84868598979a9496999561290a565b610d3e610612610d2a838061292c565b60409391935192839160208301958661297e565b519020610d4961298f565b14610f2557610d74610976610d67610d61848061292c565b90612b3f565b546001600160a01b031690565b906001600160a01b03821615610ef257828695949392610de297610da8610da08560205f97019061292c565b810190612b58565b610db0612bfc565b90610dba826125a1565b52610dc4816125a1565b506040516352ed587560e01b8152998a948593849360048501612edf565b03915afa968715610438575f945f965f99610ec4575b505f5b8651811015610e8c57610e14610976610cbb838a6125be565b151580610e78575b610e29575b600101610dfb565b97610e70600191610e4a610e40610cbb8d8c6125be565b610cd2838a6125be565b610e548b8b6125be565b51610e5f828a6125be565b52610e6a81896125be565b506124f7565b989050610e21565b50610e8381896125be565b51511515610e1c565b50945097919892969094508051610eb0575b506001905b0192959190939495610c72565b610ebd9060019295613561565b9390610e9e565b9195509750610ee69195503d805f833e610ede8183610526565b810190612e32565b9591949095975f610df8565b50509291949593610f1f815f610f0c600194869c966125be565b52610f15612461565b610e5f828a6125be565b94610ea3565b60208199939998969594979801610f47610f3f828461292c565b810190612a1d565b915f610f53888d6125be565b52610f5c612461565b610f66888b6125be565b52610f71878a6125be565b506060830160018151610f83816124de565b610f8c816124de565b036111025750505060408101516001600160a01b03858116911614610ff5575b6020810151600192610f1f92610fef929091906001600160a01b03165b9151610fe5610fd6610547565b6001600160a01b039094168452565b60208301526134fc565b946124f7565b60208101805161100f90610976906001600160a01b031681565b604051636eb1769f60e11b81526001600160a01b03871660048201523060248201529290602090849060449082905afa93841561043857878c610fef94600197610f1f975f916110d4575b50855111611070575b5050509350915050610fac565b5161108992610cd2916001600160a01b03165b926125be565b815160405163095ea7b360e01b602082015230602482015260448101919091526110b68160648101610612565b6110c0898c6125be565b526110cb888b6125be565b50878c5f611063565b6110f5915060203d81116110fb575b6110ed8183610526565b810190612b30565b5f61105a565b503d6110e3565b6002819895989492939451611116816124de565b61111f816124de565b0361118257505091611141611139610f1f9360019561292c565b810190612b14565b8091505187511161115257506124f7565b61117b9061115e610547565b905f82525f60208301525190611174828a6125be565b52876125be565b505f610e6a565b6003819895989493929451611196816124de565b61119f816124de565b036111c8575050506020810151600192610f1f92610fef929091906001600160a01b0316610fc9565b90919250600481516111d9816124de565b6111e2816124de565b0361120a57505050610f1f610fef6001926111fb610547565b905f82525f60208301526134fc565b8051611215816124de565b61121e816124de565b61128b57509161123e611236610f1f9360019561292c565b810190612ad6565b509291505081518151115f1461127e5761125c610fef9251826125be565b51906020820161127761126f82516128df565b6103e8900490565b90526134fc565b610fef91506111fb610547565b60058151611298816124de565b6112a1816124de565b036113975750916112c26112ba610f1f9360019561292c565b810190612aa7565b90809250518351115f1461137e579161135c611368610fef946112e68551856125be565b519361131261130a611305611300602089019586516128f7565b612416565b612a8c565b612710900490565b9151808311611376575b6113298361134f92612a9a565b96611332610547565b905f82525f6020830152519061134882856125be565b52826125be565b5084516001600160a01b03165b91610fe5610fd6610547565b91516001600160a01b031690565b91508161131c565b505061138f610fef916111fb610547565b6111fb610547565b600681516113a4816124de565b6113ad816124de565b036114915750916113ce6113c6610f1f9360019561292c565b810190612a5c565b908092505183518091109081611486575b5015611478579161135c610fef9361146a6113fb8551856125be565b519161144461141e61140e8351886125be565b516020808701519101519061242a565b96611427610547565b905f82525f6020830152519061143d82896125be565b52866125be565b5061144d610547565b905f82525f6020830152519061146382876125be565b52846125be565b50516001600160a01b031690565b5050610fef906111fb610547565b90508151105f6113df565b600790969396516114a1816124de565b6114aa816124de565b146114bd575b5050610f1f6001916124f7565b946114d16113c6610f1f936001959861292c565b90809250518351809110908161155a575b5015611546579161135c6115329361146a6114fe8551856125be565b519161150b8151866125be565b516020848101519101519081811061153a576114449161141e91612a9a565b611427610547565b945b916114b0565b50506114445f9661152a565b5050611554906111fb610547565b94611534565b90508151105f6114e2565b805191908290602001825e015f815290565b60206115899160405192838092611565565b600881520301902090565b346101e35760206115a4366105c5565b6115b16040518092611565565b6008815281900382019020546040516001600160a01b039091168152f35b346101e35760403660031901126101e3576004356001600160401b0381116101e357611602610676913690600401610255565b6024359161160f83610237565b6116176133f1565b612fb2565b346101e35760203660031901126101e35760043561163981610237565b6116416133f1565b600380546001600160a01b0319166001600160a01b0392909216919091179055005b346101e35760603660031901126101e3576044356024356004356001600160401b0383116101e35761169c6116ce933690600401610255565b9390600654946116b160ff8760a01c166122f0565b6116c660018060a01b03600754163314612335565b810190613038565b6001600160a01b03938416979390941694919290506116ee338614613092565b60405163c45a015560e01b815290602082600481895afa9081156104385761173d925f9261191d575b506109769061172c906001600160a01b031682565b916001600160a01b031682146130f3565b604051630dfe168160e01b81529590602087600481895afa968715610438575f976118fc575b5060405163d21220a760e01b81526020816004818a5afa908115610438575f916118dd575b5060405163ddca3f4360e01b8152916020836004818b5afa918215610438576117f6996020945f946118ae575b50604051630b4c774160e11b81526001600160a01b0391821660048201529116602482015262ffffff90921660448301529097889190829081906064820190565b03915afa93841561043857611832610ad89661183e965f516020615ce75f395f51905f52995f9161187f575b506001600160a01b03161461315a565b1561187757509061242a565b61184881856133a7565b6118538133866134b4565b6040519182918291906020604084019369554e49535741505f563360b01b81520152565b90509061242a565b6118a1915060203d6020116118a7575b6118998183610526565b8101906130de565b5f611822565b503d61188f565b6118cf919450853d87116118d6575b6118c78183610526565b81019061313f565b925f6117b5565b503d6118bd565b6118f6915060203d6020116118a7576118998183610526565b5f611788565b61191691975060203d6020116118a7576118998183610526565b955f611763565b61097691925061097661194161172c9260203d6020116118a7576118998183610526565b93925050611717565b346101e35760803660031901126101e3576004356001600160401b0381116101e35761197a903690600401610bc7565b6024356001600160401b0381116101e357611999903690600401610bc7565b6044939193356001600160401b0381116101e3576119bb903690600401610bc7565b91606435956001600160401b0387116101e3576119df610676973690600401610255565b9690956131a6565b346101e35760203660031901126101e3576004355f526004602052602060018060a01b0360405f205416604051908152f35b346101e35760203660031901126101e3576004356001600160401b0381116101e357611a49903690600401610bc7565b600260015414611b1c5760026001555f5b818110611a9d5750611a6c81836135f7565b919015611a8d57611a7c92613873565b611a846139a5565b61067660018055565b9050611a9891613698565b611a7c565b611aa881838561290a565b611ab8610612610d2a838061292c565b519020611ac361298f565b03611ad2575b50600101611a5a565b6040611ae8610da0836020611af695019061292c565b01516001600160a01b031690565b336001600160a01b0390911603611b0d575f611ac9565b63ea8e4eb560e01b5f5260045ffd5b633ee5aeb560e01b5f5260045ffd5b346101e35760203660031901126101e357600435611b4881610237565b611b506133f1565b6001600160a01b03168015611ba1575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b346101e357611bc236610bf7565b90611bcb612791565b90611bd8610c55826128c9565b92611be5610c67836128c9565b945f935f5b848110611cc357875f8789825b828110611c925750611c11611c0b8461251c565b9361254e565b935f915f5b848110611c2c576040518061040789898361076e565b611c3c610976610cbb83856125be565b611c49575b600101611c16565b92611c8a600191611c6a611c60610cbb88876125be565b610cd2838b6125be565b611c7486866125be565b51611c7f828b6125be565b52610e6a818a6125be565b939050611c41565b611ca2610976610cbb83856125be565b611caf575b600101611bf7565b92611cbb6001916124f7565b939050611ca7565b9091929594611cd68286869a979a61290a565b96611ce7610612610d2a8a8061292c565b519020611cf261298f565b14611efe57611d0a610976610d67610d618b8061292c565b916001600160a01b03831615611ec05790849291611d37610da0611d2c612bfc565b9b602081019061292c565b611d408b6125a1565b52611d4a8a6125a1565b505f828b611d6c604051998a93849363aad11a3f60e01b855260048501612edf565b0381865afa968715610438575f965f98611e96575b505f915b8751831015611e0957611de4818c8c600194878e8e611daa610976610cbb85846125be565b15611dec5790611dcd611dd99596610cd286611083610cbb88611dd299986125be565b6125be565b51926125be565b52610e6a818d6125be565b920191611d85565b505050611dfb91505f926125be565b528b611dd982611083612461565b999a839850859750611e3c9491999c96959250925f93604051958694859384936352ed587560e01b855260048501612edf565b03915afa908115610438575f91611e79575b508051611e65575b506001905b0193919093611bea565b611e729060019294613561565b9290611e56565b611e8d91503d805f833e610ede8183610526565b9150505f611e4e565b909750611eb69196503d805f833e611eae8183610526565b810190613360565b959095965f611d81565b879850600192505f611eda82611ef89498999c969a6125be565b52611ee3612461565b611eed828c6125be565b52610e6a818b6125be565b95611e5b565b939497919596909260208201611f17610f3f828561292c565b926060840160018151611f29816124de565b611f32816124de565b03612004575050506040820151600192611ef892611fd4926001600160a01b0390811690891603611fda576020820151611f7c908c90610cd2908a906001600160a01b0316611083565b60405163095ea7b360e01b60208201523060248201525f6044820152611fb4888e611dcd84606481015b03601f198101865285610526565b52611fbf878d6125be565b505b60208201516001600160a01b0316610fc9565b936124f7565b5f611fe5888d6125be565b528b611ff388611083612461565b52611ffe878d6125be565b50611fc1565b60028197959293949751612017816124de565b612020816124de565b036120655750509161203a611139611ef89360019561292c565b80915051865111612052575b505f611eda828b6125be565b61205e90611427610547565b505f612046565b6003819795979493929451612079816124de565b612082816124de565b036120b7575050506020810151600192611ef8926120ab929091906001600160a01b0316610fc9565b935f611eda828b6125be565b90919250600481516120c8816124de565b6120d1816124de565b036120ea57505050611ef86120ab6001926111fb610547565b80516120f5816124de565b6120fe816124de565b612159575091612116611236611ef89360019561292c565b509291505081518151115f14612146576121346120ab9251826125be565b51906134fc565b5f611eda828b6125be565b61215391506111fb610547565b9361213b565b60058151612166816124de565b61216f816124de565b036121bd5750916121886112ba611ef89360019561292c565b90809250518351115f146121ac579161135c6113686120ab946112e68551856125be565b505061138f612153916111fb610547565b600681516121ca816124de565b6121d3816124de565b036122325750916121ec6113c6611ef89360019561292c565b908092505183518091109081612227575b5015612219579161135c6120ab9361146a6113fb8551856125be565b5050612153906111fb610547565b90508151105f6121fd565b60079095939551612242816124de565b61224b816124de565b1461225e575b5050611ef86001916124f7565b936122726113c6611ef8936001959761292c565b9080925051835180911090816122e5575b50156122d1579161135c61229f9361146a6114fe8551856125be565b935b5f6122ac828b6125be565b526122b5612461565b6122bf828c6125be565b526122ca818b6125be565b5091612251565b50506122df906111fb610547565b936122a1565b90508151105f612283565b156122f757565b60405162461bcd60e51b8152602060048201526016602482015275119b185cda081b1bd85b881b9bdd08195b98589b195960521b6044820152606490fd5b1561233c57565b60405162461bcd60e51b815260206004820152601960248201527f556e617574686f72697a656420666c6173682063616c6c6572000000000000006044820152606490fd5b1561238857565b60405162461bcd60e51b8152602060048201526016602482015275155b985d5d1a1bdc9a5e99590810585d99481c1bdbdb60521b6044820152606490fd5b156123cd57565b60405162461bcd60e51b815260206004820152600d60248201526c2130b21034b734ba34b0ba37b960991b6044820152606490fd5b634e487b7160e01b5f52601160045260245ffd5b90612710820180921161242557565b612402565b9190820180921161242557565b801515036101e357565b908160209103126101e357516105c281612437565b6040513d5f823e3d90fd5b60405190612470602083610526565b5f8252565b60405190612484604083610526565b60048252636161766560e01b6020830152565b634e487b7160e01b5f52603260045260245ffd5b91908110156124bb5760071b0190565b612497565b600811156101e357565b634e487b7160e01b5f52602160045260245ffd5b600811156124e857565b6124ca565b356105c2816124c0565b5f1981146124255760010190565b6001600160401b0381116104d05760051b60200190565b9061252682612505565b6125336040519182610526565b8281528092612544601f1991612505565b0190602036910137565b9061255882612505565b6125656040519182610526565b8281528092612576601f1991612505565b01905f5b82811061258657505050565b80606060208093850101520161257a565b356105c281610237565b8051156124bb5760200190565b8051600110156124bb5760400190565b80518210156124bb5760209160051b010190565b915f925f5b83811061268457506125f16125eb8561251c565b9461254e565b925f905f5b8181106126035750505050565b61260e8183866124ab565b600161261c606083016124ed565b612625816124de565b14612634575b506001016125f6565b83610612610f15836126568c610cd26001989a611083602061267d9a01612597565b60405163095ea7b360e01b6020820152306024820152903560448201529182906064820190565b929061262b565b600161269c60606126968488876124ab565b016124ed565b6126a5816124de565b146126b3575b6001016125d7565b936126bf6001916124f7565b9490506126ab565b604051906126d6604083610526565b60088252671e995c9bdb195b9960c21b6020830152565b156126f457565b60405162461bcd60e51b815260206004820152601860248201527f556e617574686f72697a65642042616c616e63657220763300000000000000006044820152606490fd5b91908260409103126101e3576020823561275281610237565b92013590565b1561275f57565b60405162461bcd60e51b815260206004820152600a60248201526942616420706172616d7360b01b6044820152606490fd5b604051906127a0602083610526565b5f80835282815b8281106127b357505050565b6020906040516127c2816104b5565b5f81525f83820152828285010152016127a7565b604080519091906127e78382610526565b6001815291601f1901825f5b8281106127ff57505050565b60209060405161280e816104b5565b5f81525f83820152828285010152016127f3565b604051606091906128338382610526565b6002815291601f1901825f5b82811061284b57505050565b60209060405161285a816104b5565b5f81525f838201528282850101520161283f565b9061287882612505565b6128856040519182610526565b8281528092612896601f1991612505565b01905f5b8281106128a657505050565b6020906040516128b5816104b5565b5f81525f838201528282850101520161289a565b9060038202918083046003149015171561242557565b906103e98202918083046103e9149015171561242557565b8181029291811591840414171561242557565b91908110156124bb5760051b81013590603e19813603018212156101e3570190565b903590601e19813603018212156101e357018035906001600160401b0382116101e3576020019181360383136101e357565b908060209392818452848401375f828201840152601f01601f1916010190565b9160206105c293818152019161295e565b60405160208101906020825260066040820152653937baba32b960d11b6060820152606081526129c0608082610526565b51902090565b91908260809103126101e3576040516129de816104d5565b60608082948035845260208101356129f581610237565b60208501526040810135612a0881610237565b6040850152013591612a19836124c0565b0152565b906080828203126101e3576105c2916129c6565b5160088110156124e85790565b91908260209103126101e357604051612a56816104f0565b91358252565b909160c0828403126101e3576105c2612a7584846129c6565b9360a0612a858260808701612a3e565b9401612a3e565b5f1981019190821161242557565b9190820391821161242557565b909160c0828403126101e35760a0612752612ac285856129c6565b9460808501612a3e565b600511156101e357565b60e0818303126101e357612aea82826129c6565b9260c0612b086080840135612afe81612acc565b9460a08501612a3e565b9201356105c281610237565b919060a0838203126101e357806080612a856105c293866129c6565b908160209103126101e3575190565b6020908260405193849283378101600881520301902090565b6020818303126101e3578035906001600160401b0382116101e3570160c0818303126101e35760405191612b8b8361050b565b8135600a8110156101e3578352612ba460208301610248565b6020840152612bb560408301610248565b60408401526060820135606084015260808201356001600160401b0381116101e35782612be98360a093612bf496016105a7565b608086015201612a3e565b60a082015290565b612c066001612505565b90612c146040519283610526565b6001825281601f19612c266001612505565b01905f5b828110612c3657505050565b602090604051612c458161050b565b5f81525f838201525f60408201525f606082015260606080820152604051612c6c816104f0565b5f815260a082015282828501015201612c2a565b9080601f830112156101e3578151612c9781612505565b92612ca56040519485610526565b81845260208085019260051b8201019283116101e357602001905b828210612ccd5750505090565b602080918351612cdc81610237565b815201910190612cc0565b81601f820112156101e357602081519101612d0182610556565b92612d0f6040519485610526565b828452828201116101e357815f926020928386015e8301015290565b9080601f830112156101e3578151612d4281612505565b92612d506040519485610526565b81845260208085019260051b820101918383116101e35760208201905b838210612d7c57505050505090565b81516001600160401b0381116101e357602091612d9e87848094880101612ce7565b815201910190612d6d565b81601f820112156101e357805190612dc082612505565b92612dce6040519485610526565b82845260208085019360061b830101918183116101e357602001925b828410612df8575050505090565b6040848303126101e35760206040918251612e12816104b5565b8651612e1d81610237565b81528287015183820152815201930192612dea565b916060838303126101e35782516001600160401b0381116101e35782612e59918501612c80565b9260208101516001600160401b0381116101e35783612e79918301612d2b565b9260408201516001600160401b0381116101e3576105c29201612da9565b90602080835192838152019201905f5b818110612eb45750505090565b825180516001600160a01b031685526020908101518186015260409094019390920191600101612ea7565b93929091936060810160608252835180915260808201602060808360051b8501019501915f5b818110612f33575050506001600160a01b0390951660208201529293506105c2926040818403910152612e97565b90919295607f198582030184528651908151600a8110156124e8576001928260209392849352848060a01b03838301511683820152848060a01b0360408301511660408201526060820151606082015260a080612f9f608085015160c0608086015260c085019061074a565b9301515191015298019401929101612f05565b9190916040518382823760088185019081528190036020019020546001600160a01b039283169216821461303357612fea8382612b3f565b546001600160a01b0316613024576102539261300591612b3f565b80546001600160a01b0319166001600160a01b03909216919091179055565b630a20941760e31b5f5260045ffd5b505050565b919060a0838203126101e357823561304f81610237565b92602081013561305e81610237565b9260408201359260608301356001600160401b0381116101e3576080916130869185016105a7565b9201356105c281612437565b1561309957565b60405162461bcd60e51b815260206004820152601960248201527f556e617574686f72697a656420556e697377617020706f6f6c000000000000006044820152606490fd5b908160209103126101e357516105c281610237565b156130fa57565b60405162461bcd60e51b815260206004820152601d60248201527f506f6f6c206e6f742066726f6d207472757374656420666163746f72790000006044820152606490fd5b908160209103126101e3575162ffffff811681036101e35790565b1561316157565b60405162461bcd60e51b815260206004820152601a60248201527f4e6f6e2d63616e6f6e6963616c20556e697377617020706f6f6c0000000000006044820152606490fd5b93906132595f516020615ce75f395f51905f5297613253996132336132469561322c6132ba9b6132256132939b6109769b6131e860ff60065460a01c166122f0565b6131fd60018060a01b03600754163314612335565b600254613214906001600160a01b031633146132bf565b61322060018c1461330b565b613357565b3592613357565b359061242a565b9a8b9261324b610976613246888d613357565b612597565b923691610571565b506133a7565b6132858861326a6132468489613357565b60025461327f906001600160a01b0316610976565b906134b4565b6001600160a01b0394613357565b1692604051918291829190602060408401936a2120a620a721a2a92fab1960a91b81520152565b0390a2565b156132c657565b60405162461bcd60e51b815260206004820152601860248201527f556e617574686f72697a65642042616c616e63657220763200000000000000006044820152606490fd5b1561331257565b60405162461bcd60e51b815260206004820152601b60248201527f4f6e6c792073696e676c652d617373657420737570706f7274656400000000006044820152606490fd5b90156124bb5790565b9190916040818403126101e35780516001600160401b0381116101e35783613389918301612c80565b9260208201516001600160401b0381116101e3576105c29201612d2b565b6133af6127d6565b91604051916133bd836104b5565b6001600160a01b0316825260208201528151156124bb5760208201528051156124bb576133e9906139be565b610253613aaf565b5f546001600160a01b0316330361340457565b63118cdaa760e01b5f523360045260245ffd5b816130056134639260405161343481610612602082018095611565565b5190205f818152600460205260409020546001600160a01b03168061349b575b505f52600460205260405f2090565b6001600160a01b0381166134745750565b6001600160a01b03165f90815260056020526040902061025390805460ff19166001179055565b5f52600560205260405f2060ff1981541690555f613454565b60405163a9059cbb60e01b60208201526001600160a01b0390921660248301526044820192909252610253916134f782606481015b03601f198101845283610526565b613bc0565b919091805160018101809111612425576135159061286e565b915f5b825181101561354b578061352e600192856125be565b5161353982876125be565b5261354481866125be565b5001613518565b509261355d91519061134882856125be565b5090565b91825182518101809111612425576135789061286e565b905f5b84518110156135ae5780613591600192876125be565b5161359c82866125be565b526135a781856125be565b500161357b565b50915f5b81518110156135f057806135e96135cb600193856125be565b516135d783895161242a565b906135e282886125be565b52856125be565b50016135b2565b5090925050565b915f925f925f5b81811061360a57505050565b61361581838561290a565b613625610612610d2a838061292c565b51902061363061298f565b0361368f576020810190613644828261292c565b9050156136855761365d610f3f6136639360609361292c565b01612a31565b61366c816124de565b1561367b576001905b016135fe565b6001955093505050565b5050600190613675565b50600190613675565b906136a1612791565b905f915b8183106136b25750505050565b6001906136c084848761290a565b906136ec6106126136d1848061292c565b9290604051928391602083019560208752602087019161295e565b5190206136f761298f565b0361370e5761370591613d50565b925b01916136a5565b61371791613c81565b92613707565b6040519061372a826104b5565b60606020838281520152565b9061374082612505565b61374d6040519182610526565b828152809261375e601f1991612505565b01905f5b82811061376e57505050565b60209061377961371d565b82828501015201613762565b6040813603126101e3576040519061379c826104b5565b80356001600160401b0381116101e3576137b990369083016105a7565b82526020810135906001600160401b0382116101e3576137db913691016105a7565b602082015290565b602081016020825282518091526040820191602060408360051b8301019401925f915b83831061381557505050505090565b9091929394602080613853600193603f1986820301875289519083613843835160408452604084019061074a565b920151908481840391015261074a565b97019301930191939290613806565b9060206105c2928181520190612e97565b61387b612791565b5f5b84811061395557506138926113058585612a9a565b61389b81613736565b905f5b8181106139125750509361390193611236936138f26106126138ed6138f7966138de6106126138d96102539d604051928391602083016137e3565b614327565b60405192839160208301613862565b6143c7565b61290a565b602081019061292c565b6001600160a01b0316925090614470565b8061393961393461392d6001946139288b612a8c565b612a9a565b898961290a565b613785565b61394382866125be565b5261394e81856125be565b500161389e565b9060019061396483868661290a565b90613975610612610d2a848061292c565b51902061398061298f565b036139965761398e91613d50565b915b0161387d565b61399f91613c81565b91613990565b6102536040516139b6602082610526565b5f81526143c7565b6139c66145e7565b916139dc6139d7845184519061242a565b61286e565b905f5b8451811015613a1257806139f5600192876125be565b51613a0082866125be565b52613a0b81856125be565b50016139df565b50915f5b8151811015613a365780613a2f6135cb600193856125be565b5001613a16565b50506102539192506138ed6106129160405192839160208301613862565b9060206105c292818152019061074a565b906020828203126101e35781516001600160401b0381116101e3576105c29201612da9565b9091613aa16105c293604084526040840190612e97565b91602081840391015261074a565b613ab76146a0565b819091515115613bbc575b8051604051613ad981610612602082019485613a54565b519020613ae461298f565b03613b0c57613af290614970565b613b09575b61025357613b036146a0565b90613ac2565b50565b613b1c610976610d678351611577565b6001600160a01b03811615613bad57613b5c915f916020613b3b6145e7565b920151918360405180968195829463ae4be46d60e01b845260048401613a8a565b03925af1908115610438575f91613b8b575b508051613b7c575b50613af7565b613b85906139be565b5f613b76565b613ba791503d805f833e613b9f8183610526565b810190613a65565b5f613b6e565b635d958a8b60e11b5f5260045ffd5b5050565b5f80613c089260018060a01b03169360208151910182865af13d15613c54573d90613bea82610556565b91613bf86040519384610526565b82523d5f602084013e5b83615c88565b8051908115159182613c39575b5050613c1e5750565b635274afe760e01b5f526001600160a01b031660045260245ffd5b613c4c9250602080918301019101612441565b155f80613c15565b606090613c02565b91613c736105c29492604085526040850190612e97565b92602081850391015261295e565b613c91610d67610d61838061292c565b906001600160a01b03821615613bad57613cd491613cb48260205f94019061292c565b91908360405180968195829463ae4be46d60e01b84528a60048501613c5c565b03925af1908115610438575f91613cfa575b508051613cf1575090565b6105c291613561565b613d0e91503d805f833e613b9f8183610526565b5f613ce6565b909160c0828403126101e357613d2a83836129c6565b926080830135906001600160401b0382116101e35760a0612a85826105c29487016105a7565b60208101613d61610f3f828461292c565b91606083018051613d71816124de565b613d7a816124de565b613d8d57635049b04960e01b5f5260045ffd5b60018151613d9a816124de565b613da3816124de565b03613df2575050506040810151336001600160a01b0390911603611b0d576020810180516105c29391610fc991610cbb90613de6906001600160a01b0316610976565b85519030903390614fc6565b60028151613dff816124de565b613e08816124de565b03613ead5750613e1b916111399161292c565b8091505183511115613e9e57613e328151846125be565b5180516001600160a01b031615613e8f57602081015161355d9381613e5d575b505050611332610547565b61327f6040613e78610976613e87965160018060a01b031690565b9201516001600160a01b031690565b5f8080613e52565b63ad1991f560e01b5f5260045ffd5b63779ffa5760e11b5f5260045ffd5b60038151613eba816124de565b613ec3816124de565b03613ee35750505060208101516105c292906001600160a01b0316610fc9565b9091925060048151613ef4816124de565b613efd816124de565b036140715750613f1891613f109161292c565b810190613d14565b809392505182511115613e9e576040516020810190613f3b816106128585613a54565b519020613f4661298f565b0361405d5750305b6001600160a01b03811615613bad576020613f86613f7e613f708651866125be565b51516001600160a01b031690565b9451846125be565b51015160405163095ea7b360e01b81526001600160a01b0383811660048301525f6024830152909416602085806044810103815f855af19283156104385761400895602094614042575b5060405163095ea7b360e01b81526001600160a01b0390911660048201526024810192909252909384919082905f9082906044820190565b03925af1918215610438576105c292614025575b506111fb610547565b61403d9060203d602011610431576104248183610526565b61401c565b61405890853d8711610431576104248183610526565b613fd0565b610976610d6761406c92611577565b613f4e565b6005815161407e816124de565b614087816124de565b03614123575061409a916112ba9161292c565b908092505183511115613e9e576140b28251846125be565b5180519091906001600160a01b0316158015614117575b6141085761271081116140f95761136861135c916105c29561131261130a611305611300602089019586516128f7565b631222751960e01b5f5260045ffd5b63f2365b5b60e01b5f5260045ffd5b506020820151156140c9565b60068151614130816124de565b614139816124de565b0361421d575061414c916113c69161292c565b929080925051815180911090811591614211575b50613e9e576141708251826125be565b519261417d8151836125be565b5184519094906001600160a01b03161580156141f6575b613e8f5780516001600160a01b031685516141b7906001600160a01b0316610976565b6001600160a01b03909116036141e75761146a61135c9261144461141e6105c2986020808701519101519061242a565b63936bb5ad60e01b5f5260045ffd5b50845161420b906001600160a01b0316610976565b15614194565b9050835110155f614160565b6007905161422a816124de565b614233816124de565b1461423d57505090565b61424a916113c69161292c565b92908092505181518091109081159161431b575b50613e9e5761426e8251826125be565b5161427a8451836125be565b5181519091906001600160a01b0316158015614300575b613e8f5780516001600160a01b031682516142b4906001600160a01b0316610976565b6001600160a01b03909116036141e75760208101602081519301928351116142f1576105c29561144461141e61135c9561146a9451905190612a9a565b63caccb6d960e01b5f5260045ffd5b508151614315906001600160a01b0316610976565b15614291565b9050835110155f61425e565b805190817f33a7f7e91c7e5e97e4035e86e424aaeb97691c852dc81d823520f664cc2ca71c5d8160051c91601f811690815f5b8581106143a0575061436d575b50505050565b601f19169091016020908101519190036101000a5f19011916905f516020615d075f395f51905f52015d5f808080614367565b6001915060208160051b860101515f516020615d075f395f51905f5282015d01829061435a565b805190817f5f92431fdc2b6bf66f91a326fa06b3fad6b4ab24047c9be12b7f412fbfbaa1ec5d8160051c91601f811690815f5b85811061443f575061440c5750505050565b601f19169091016020908101519190036101000a5f19011916905f516020615d475f395f51905f52015d5f808080614367565b6001915060208160051b860101515f516020615d475f395f51905f5282015d0182906143fa565b600511156124e857565b906144796145e7565b815181511115613e9e5761448e9151906125be565b5180519092906001600160a01b031615613e8f5760208301918251156145d8576144b781614466565b806144de575050905161025391906001600160a01b031690516144d8612461565b91615815565b6144e781614466565b6001810361450757505090519051610253916001600160a01b031661561a565b61451081614466565b60028103614542575050905161025391906001600160a01b03169051614534612461565b9161453d612475565b6154d5565b61454b81614466565b60038103614578575050905161025391906001600160a01b0316905161456f612461565b9161453d6126c7565b80614587600492949394614466565b036145c9576001600160a01b038216156145ba5791519151610253926001600160a01b03166145b4612461565b92615054565b631f356b8560e11b5f5260045ffd5b63882f810360e01b5f5260045ffd5b631f2a200560e01b5f5260045ffd5b7f5f92431fdc2b6bf66f91a326fa06b3fad6b4ab24047c9be12b7f412fbfbaa1ec5c604051908082528060051c5f5b81811061467c575090602091601f821661465c575b50601f01601f191682010160405280511561465357806020806105c293518301019101613a65565b506105c2612791565b5f516020615d475f395f51905f52015c601f19821684018301525f61462b565b805f516020615d475f395f51905f52600192015c60208260051b8701015201614616565b6146a861371d565b906146b1615a3d565b918251801561480e5783019260208401906020818603126101e3576020810151906001600160401b0382116101e3570181603f820112156101e3576020810151946146fb86612505565b956147096040519788610526565b8087526020808089019260051b85010101928484116101e35760408101915b8483106147825750505050505082519081156147795750806113056106126138d961475e61475861477596612a8c565b886125be565b51965f1985018152604051928391602083016137e3565b1590565b92506001919050565b82516001600160401b0381116101e35782016020810191906040908603601f1901126101e357604051906147b5826104b5565b60208301516001600160401b0381116101e3578860206147d792860101612ce7565b82526040830151916001600160401b0383116101e3576147ff89602080969581960101612ce7565b83820152815201920191614728565b509150600190565b91908260809103126101e35760405161482e816104d5565b606080829480518452602081015161484581610237565b6020850152604081015161485881610237565b6040850152015191612a19836124c0565b906080828203126101e3576105c291614816565b91908260209103126101e357604051614895816104f0565b91518252565b909160c0828403126101e3576105c26148b48484614816565b9360a06148c4826080870161487d565b940161487d565b909160c0828403126101e35760a06148f06148e68585614816565b946080850161487d565b92015190565b909160c0828403126101e35761490c8383614816565b926080830151906001600160401b0382116101e35760a06148c4826105c2948701612ce7565b60e0818303126101e3576149468282614816565b9260c0614964608084015161495a81612acc565b9460a0850161487d565b9201516105c281610237565b6020810190614989825160208082518301019101614869565b90606082018051614999816124de565b6149a2816124de565b6149c5575050506139016149c0915160208082518301019101614932565b600190565b600181516149d2816124de565b6149db816124de565b036149f05750506149ec9150615bd6565b5f90565b60028193929351614a00816124de565b614a09816124de565b03614a1a5750506149ec9150615b16565b90915060038151614a2a816124de565b614a33816124de565b03614a9157506149ec9150614a466127d6565b60208201519091906001600160a01b03169051614a73614a64610547565b6001600160a01b039093168352565b6020820152614a81826125a1565b52614a8b816125a1565b506139be565b905060048151614aa0816124de565b614aa9816124de565b03614c315750614ac39051602080825183010191016148f6565b9150614acd6145e7565b90825182511115613e9e576040516020810190614aee816106128585613a54565b519020614af961298f565b03614c1c575030905b6001600160a01b03821615613bad57614b2d602091614b25613f708651836125be565b9451906125be565b51015160405163095ea7b360e01b81526001600160a01b0383811660048301525f6024830152909316602084806044810103815f855af192831561043857614baf94602094614c01575b5060405163095ea7b360e01b81526001600160a01b0390911660048201526024810192909252909283919082905f9082906044820190565b03925af1801561043857614be4575b506149ec614bca6127d6565b614bd2610547565b5f81525f6020820152614a81826125a1565b614bfc9060203d602011610431576104248183610526565b614bbe565b614c1790853d8711610431576104248183610526565b614b77565b610976610d67614c2b92611577565b90614b02565b60058151614c3e816124de565b614c47816124de565b03614d785750614c619051602080825183010191016148cb565b909150614c6c6145e7565b825181511115613e9e57614c818351826125be565b5180519093906001600160a01b0316158015614d6c575b6141085761271083116140f95783614cc161130a61130561130060206149ec99019788516128f7565b9351808511614d64575b92614d4f610612936138ed93614d22614ce789614d5f99612a9a565b91614cf0612822565b8151909a906001600160a01b031690614d0a614a64610547565b6020820152614d188b6125a1565b5261146a8a6125a1565b90614d2e614a64610547565b6020820152614d3c886125ae565b52614d46876125ae565b50611332610547565b5060405192839160208301613862565b6139be565b935083614ccb565b50602084015115614c98565b60068151614d85816124de565b614d8e816124de565b03614eb45750614da890516020808251830101910161489b565b909150614db36145e7565b918051835180911090811591614ea8575b50613e9e57614dd48151846125be565b5191614de18151856125be565b5183516001600160a01b0316158015614e8d575b613e8f5783516001600160a01b03168151614e18906001600160a01b0316610976565b6001600160a01b03909116036141e7576149ec94614d4f61061293614d46614d5f96614e506138ed966020808c01519101519061242a565b614e69614e5b6127d6565b9a516001600160a01b031690565b90614e75614a64610547565b6020820152614e838a6125a1565b52611444896125a1565b508051614ea2906001600160a01b0316610976565b15614df5565b9050825110155f614dc4565b60079051614ec1816124de565b614eca816124de565b14614ed457505f90565b614ee890516020808251830101910161489b565b9150614ef26145e7565b918151835180911090811591614fba575b50613e9e57614f138251846125be565b5191614f208251856125be565b5183519091906001600160a01b0316158015614f9f575b613e8f5783516001600160a01b03168251614f5a906001600160a01b0316610976565b6001600160a01b03909116036141e7576020840194602086519301928351116142f157614d4f614d5f94614d466138ed94614e50610612976149ec9b51905190612a9a565b508151614fb4906001600160a01b0316610976565b15614f37565b9050815110155f614f03565b6040516323b872dd60e01b60208201526001600160a01b0392831660248201529290911660448301526064820192909252610253916134f782608481016134e9565b1561500f57565b60405162461bcd60e51b815260206004820152601860248201527f4e657374656420666c617368206e6f7420616c6c6f77656400000000000000006044820152606490fd5b929160065461506960ff8260a01c1615615008565b60ff60a01b198116600160a01b176006819055600780546001600160a01b0319166001600160a01b038881169182179092559691926150aa911615156153aa565b6150b58615156153ec565b6001600160a01b03841690811515806153a1575b6150d290612758565b60405163c45a015560e01b8152926020846004818b5afa938415610438575f94615374575b5061511f9061510e906001600160a01b0316610976565b936001600160a01b031684146130f3565b604051630dfe168160e01b8152906020826004818b5afa918215610438575f92615353575b5060405163d21220a760e01b8152936020856004818c5afa948515610438575f95615332575b5060405163ddca3f4360e01b81526020816004818d5afa8015610438576151e0926020925f9261530f575b506001600160a01b03165b604051630b4c774160e11b81526001600160a01b0380881660048301528916602482015262ffffff90921660448301529092839190829081906064820190565b03915afa9283156104385761520d8a61524395611fa6945f9161187f57506001600160a01b03161461315a565b6001600160a01b0395861685149895168414948590818015615308575b61523390615428565b87604051998a9560208701615468565b5f516020615d275f395f51905f5260405180615277868291906020604084019369554e49535741505f563360b01b81520152565b0390a2156153015780925b156152f957925b803b156101e3576152b5935f8094604051968795869485936312439b2f60e21b855230600486016154aa565b03925af18015610438576152e5575b50600780546001600160a01b03191690555b6006805460ff60a01b19169055565b80610aeb5f6152f393610526565b5f6152c4565b505f92615289565b5f92615282565b508961522a565b6151a091925061532b90843d86116118d6576118c78183610526565b9190615195565b61534c91955060203d6020116118a7576118998183610526565b935f61516a565b61536d91925060203d6020116118a7576118998183610526565b905f615144565b61511f91945061097661539861510e9260203d6020116118a7576118998183610526565b959250506150f7565b508315156150c9565b156153b157565b60405162461bcd60e51b8152602060048201526013602482015272155b9a5cddd85c081d8cc8191a5cd8589b1959606a1b6044820152606490fd5b156153f357565b60405162461bcd60e51b815260206004820152600d60248201526c141bdbdb081c995c5d5a5c9959609a1b6044820152606490fd5b1561542f57565b60405162461bcd60e51b8152602060048201526011602482015270151bdad95b881b9bdd081a5b881c1bdbdb607a1b6044820152606490fd5b6001600160a01b03918216815291166020820152604081019190915260a06060820181905292939290916080916154a2919084019061074a565b931515910152565b90926080926105c2959460018060a01b0316835260208301526040820152816060820152019061074a565b929091926040516154ee81610612602082018095611565565b5190205f908152600460205260409020546001600160a01b031680156155d65760065461552160ff8260a01c1615615008565b60ff60a01b1916600160a01b17600655600780546001600160a01b0319166001600160a01b03928316908117909155908316801515806155cd575b61556590612758565b5f516020615d275f395f51905f526040518061559e88829190602060408401936e414156455f434f4d50415449424c4560881b81520152565b0390a2803b156101e3576152b5935f8094604051968795869485936310ac2ddf60e21b85523060048601615c4a565b5084151561555c565b606460405162461bcd60e51b815260206004820152602060248201527f4161766520706f6f6c206e6f74207265676973746572656420666f72206b65796044820152fd5b61575e6156f65f93925f516020615d275f395f51905f52615729869560018060a01b036003541660065461565460ff8260a01c1615615008565b60ff60a01b1916600160a01b17600655600780546001600160a01b03191691909117905560035461568f906001600160a01b031615156157ad565b6001600160a01b038416936157049082906156da90871515806157a4575b6156b690612758565b604080516001600160a01b0390921660208301528101929092528160608101610612565b60405163bf11f4af60e01b602082015296879160248301613a54565b03601f198101875286610526565b604051918291829190602060408401936a42414c414e4345525f563360a81b81520152565b0390a2600354615741906001600160a01b0316610976565b906040519485809481936348c8949160e01b835260048301613a54565b03925af18015610438576157825750600780546001600160a01b03191690556152d6565b61579d903d805f833e6157958183610526565b8101906157f0565b505f6152c4565b508215156156ad565b156157b457565b60405162461bcd60e51b815260206004820152601460248201527310985b185b98d95c881d8cc8191a5cd8589b195960621b6044820152606490fd5b906020828203126101e35781516001600160401b0381116101e3576105c29201612ce7565b91909160018060a01b036002541660065461583660ff8260a01c1615615008565b60ff60a01b1916600160a01b17600655600780546001600160a01b031916919091179055600254615871906001600160a01b0316151561593a565b6001600160a01b03169081151580615931575b61588d90612758565b61589561597d565b916158a381610cd2856125a1565b5f516020615d275f395f51905f526158ed6158bc61597d565b95806158c7886125a1565b52604051918291829190602060408401936a2120a620a721a2a92fab1960a91b81520152565b0390a2600254615905906001600160a01b0316610976565b803b156101e3576152b5935f809460405196879586948593632e1c224f60e11b8552306004860161599f565b50821515615884565b1561594157565b60405162461bcd60e51b815260206004820152601460248201527310985b185b98d95c881d8c88191a5cd8589b195960621b6044820152606490fd5b6040805190919061598e8382610526565b6001815291601f1901366020840137565b6001600160a01b03909116815260806020808301829052835191830182905260a0830196959301905f5b818110615a1e5750505080850360408201526020808451968781520193015f955b808710615a065750506105c2939450606081840391015261074a565b909360208060019287518152019501960195906159ea565b82516001600160a01b03168852602097880197909201916001016159c9565b7f33a7f7e91c7e5e97e4035e86e424aaeb97691c852dc81d823520f664cc2ca71c5c90604051918083528060051c5f5b818110615ab2575090602091601f8216615a92575b50601f01601f1916830101604052565b5f516020615d075f395f51905f52015c601f19821685018301525f615a82565b805f516020615d075f395f51905f52600192015c60208260051b8801015201615a6d565b919060a0838203126101e3578060806148c46105c29386614816565b60405190615aff826104d5565b5f6060838281528260208201528260408201520152565b602001615b2d815160208082518301019101615ad6565b9050615b376145e7565b91815183511115613e9e57615b4d8251846125be565b5180519093906001600160a01b031615613e8f57614d4f610612936138ed9386602061025398018051615b8557505050611332610547565b615bce6040615bbf610976615bb0613e8797615b9f615af2565b505160208082518301019101615ad6565b5095516001600160a01b031690565b9301516001600160a01b031690565b9051916134b4565b60408101516001600160a01b03163303611b0d576020810180518251615c0891309033906001600160a01b0316614fc6565b615c106127d6565b90519151604051926001600160a01b0316615c2a846104b5565b835260208301528051156124bb57610253916020820152614a8b816125a1565b6001600160a01b03918216815291166020820152604081019190915260a0606082018190529092915f91608091615c839186019061074a565b930152565b90615cac5750805115615c9d57805190602001fd5b630a12f52160e11b5f5260045ffd5b81511580615cdd575b615cbd575090565b639996b31560e01b5f9081526001600160a01b0391909116600452602490fd5b50803b15615cb556feb21eee5e191a9cc1ec41621c9a0fea677a897b20b22a856449974d61f8061ac433a7f7e91c7e5e97e4035e86e424aaeb97691c852dc81d823520f664cc2ca71d1fd78546830bb8c24aefbbf22320d9d28d30decfca91ec0a9caf26e93c576d125f92431fdc2b6bf66f91a326fa06b3fad6b4ab24047c9be12b7f412fbfbaa1eda2646970667358221220eb06867f571b00e775b634f7fb44bd825a3e119badbdac9d494bd85b09edea0364736f6c634300081e0033",
  "deployedBytecode": "0x60806040526004361015610011575f80fd5b5f3560e01c80630acefd35146101d457806310c0a157146101cf5780631b11d0ff146101ca57806328c18416146101c55780632a2b8f78146101c0578063349f937c146101bb5780635b549182146101b65780635eaa9da3146101b1578063715018a6146101ac5780638da5cb5b146101a7578063a6ed7be3146101a2578063ba3dba8a1461019d578063bba8a3dc14610198578063bd3fd0ec14610193578063bf11f4af1461018e578063bf1e4cf614610189578063c3865d5714610184578063d7eddf391461017f578063d7ff41bf1461017a578063db236a1f14610175578063e30b155e14610170578063e85113031461016b578063e9cbafb014610166578063f04f270714610161578063f07b6e641461015c578063f0dbeea514610157578063f2fde38b146101525763faea56e21461014d575f80fd5b611bb4565b611b2b565b611a19565b6119e7565b61194a565b611663565b61161c565b6115cf565b611594565b610c2f565b610b81565b610b5b565b610b14565b61090e565b6108e8565b6108a8565b610878565b61080d565b610723565b6106cc565b6106a0565b610678565b610641565b6105ef565b61045a565b610282565b61020f565b6101e7565b5f9103126101e357565b5f80fd5b346101e3575f3660031901126101e3576003546040516001600160a01b039091168152602090f35b346101e3575f3660031901126101e3576002546040516001600160a01b039091168152602090f35b6001600160a01b038116036101e357565b359061025382610237565b565b9181601f840112156101e3578235916001600160401b0383116101e357602083818601950101116101e357565b346101e35760a03660031901126101e35760043561029f81610237565b604435906024356064356102b281610237565b6084356001600160401b0381116101e3576103309461033d936102dc610335933690600401610255565b9790946102f060ff60065460a01c166122f0565b61030560018060a01b03600754163314612335565b335f908152600560205260409020546103209060ff16612381565b6001600160a01b031630146123c6565b61242a565b933691610571565b5061034882826133a7565b60405163095ea7b360e01b81523360048201525f60248201526001600160a01b03919091169190602081806044810103815f875af180156104385761043d575b5060405163095ea7b360e01b815233600482015260248101829052906020826044815f875af1908115610438575f516020615ce75f395f51905f52926103f79261040b575b50604051918291829190602060408401936e414156455f434f4d50415449424c4560881b81520152565b0390a26040516001815280602081015b0390f35b61042c9060203d602011610431575b6104248183610526565b810190612441565b6103cd565b503d61041a565b612456565b6104559060203d602011610431576104248183610526565b610388565b346101e35760203660031901126101e35760043561047781610237565b61047f6133f1565b600280546001600160a01b0319166001600160a01b0392909216919091179055005b634e487b7160e01b5f52604160045260245ffd5b604081019081106001600160401b038211176104d057604052565b6104a1565b608081019081106001600160401b038211176104d057604052565b602081019081106001600160401b038211176104d057604052565b60c081019081106001600160401b038211176104d057604052565b90601f801991011681019081106001600160401b038211176104d057604052565b60405190610253604083610526565b6001600160401b0381116104d057601f01601f191660200190565b92919261057d82610556565b9161058b6040519384610526565b8294818452818301116101e3578281602093845f960137010152565b9080601f830112156101e3578160206105c293359101610571565b90565b60206003198201126101e357600435906001600160401b0382116101e3576105c2916004016105a7565b346101e3576105fd366105c5565b60405161062081610612602082018095611565565b03601f198101835282610526565b5190205f526004602052602060018060a01b0360405f205416604051908152f35b346101e35760203660031901126101e35761067660043561066181610237565b6106696133f1565b610671612475565b613417565b005b346101e3575f3660031901126101e3576006546040516001600160a01b039091168152602090f35b346101e3575f3660031901126101e3576002546020906001600160a01b031615155b6040519015158152f35b346101e3575f3660031901126101e3576106e46133f1565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b346101e3575f3660031901126101e3575f546040516001600160a01b039091168152602090f35b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b604081016040825282518091526020606083019301905f5b8181106107ee575050506020818303910152815180825260208201916020808360051b8301019401925f915b8383106107c157505050505090565b90919293946020806107df600193601f19868203018752895161074a565b970193019301919392906107b2565b82516001600160a01b0316855260209485019490920191600101610786565b346101e35760203660031901126101e3576004356001600160401b0381116101e357366023820112156101e35780600401356001600160401b0381116101e3573660248260071b840101116101e357602461086892016125d2565b906104076040519283928361076e565b346101e35760203660031901126101e35761067660043561089881610237565b6108a06133f1565b6106716126c7565b346101e35760203660031901126101e3576004356108c581610237565b60018060a01b03165f526005602052602060ff60405f2054166040519015158152f35b346101e3575f3660031901126101e3576006546020906001600160a01b031615156106c2565b346101e35760203660031901126101e3576004356001600160401b0381116101e35761093e903690600401610255565b9061095060ff60065460a01c166122f0565b61096560018060a01b03600754163314612335565b600354610982906001600160a01b03165b6001600160a01b031690565b6109966001600160a01b03821633146126ed565b6109a283830183612739565b6001600160a01b039091169390929084151580610b0b575b6109c390612758565b823b156101e35760405163ae63932960e01b81526001600160a01b038616600482015230602482015260448101859052925f908490606490829084905af192831561043857610a1993610af7575b503691610571565b50610a2481836133a7565b600354610a45908290610a3f906001600160a01b0316610976565b846134b4565b600354610a5a906001600160a01b0316610976565b90813b156101e3576040516315afd40960e01b81526001600160a01b038416600482015260248101829052915f908390604490829084905af1908115610438575f516020615ce75f395f51905f5292610ad892610add575b50604051918291829190602060408401936a42414c414e4345525f563360a81b81520152565b0390a2005b80610aeb5f610af193610526565b806101d9565b5f610ab2565b80610aeb5f610b0593610526565b5f610a11565b508315156109ba565b346101e35760203660031901126101e357600435610b3181610237565b610b396133f1565b600680546001600160a01b0319166001600160a01b0392909216919091179055005b346101e3575f3660031901126101e3576003546020906001600160a01b031615156106c2565b346101e357610b8f366105c5565b604051610ba481610612602082018095611565565b5190205f526004602052602060018060a01b0360405f2054161515604051908152f35b9181601f840112156101e3578235916001600160401b0383116101e3576020808501948460051b0101116101e357565b60406003198201126101e357600435906001600160401b0382116101e357610c2191600401610bc7565b90916024356105c281610237565b346101e357610c3d36610bf7565b610c48929192612791565b92610c5a610c55826128c9565b61251c565b93610c6c610c67836128c9565b61254e565b935f935f925b848410610d0857878787610c858161251c565b91610c8f8261254e565b935f5b838110610ca8576040518061040788888361076e565b80610ce1610cc8610cbb600194866125be565b516001600160a01b031690565b610cd283896125be565b6001600160a01b039091169052565b610ceb81856125be565b51610cf682896125be565b52610d0181886125be565b5001610c92565b610d1a84868598979a9496999561290a565b610d3e610612610d2a838061292c565b60409391935192839160208301958661297e565b519020610d4961298f565b14610f2557610d74610976610d67610d61848061292c565b90612b3f565b546001600160a01b031690565b906001600160a01b03821615610ef257828695949392610de297610da8610da08560205f97019061292c565b810190612b58565b610db0612bfc565b90610dba826125a1565b52610dc4816125a1565b506040516352ed587560e01b8152998a948593849360048501612edf565b03915afa968715610438575f945f965f99610ec4575b505f5b8651811015610e8c57610e14610976610cbb838a6125be565b151580610e78575b610e29575b600101610dfb565b97610e70600191610e4a610e40610cbb8d8c6125be565b610cd2838a6125be565b610e548b8b6125be565b51610e5f828a6125be565b52610e6a81896125be565b506124f7565b989050610e21565b50610e8381896125be565b51511515610e1c565b50945097919892969094508051610eb0575b506001905b0192959190939495610c72565b610ebd9060019295613561565b9390610e9e565b9195509750610ee69195503d805f833e610ede8183610526565b810190612e32565b9591949095975f610df8565b50509291949593610f1f815f610f0c600194869c966125be565b52610f15612461565b610e5f828a6125be565b94610ea3565b60208199939998969594979801610f47610f3f828461292c565b810190612a1d565b915f610f53888d6125be565b52610f5c612461565b610f66888b6125be565b52610f71878a6125be565b506060830160018151610f83816124de565b610f8c816124de565b036111025750505060408101516001600160a01b03858116911614610ff5575b6020810151600192610f1f92610fef929091906001600160a01b03165b9151610fe5610fd6610547565b6001600160a01b039094168452565b60208301526134fc565b946124f7565b60208101805161100f90610976906001600160a01b031681565b604051636eb1769f60e11b81526001600160a01b03871660048201523060248201529290602090849060449082905afa93841561043857878c610fef94600197610f1f975f916110d4575b50855111611070575b5050509350915050610fac565b5161108992610cd2916001600160a01b03165b926125be565b815160405163095ea7b360e01b602082015230602482015260448101919091526110b68160648101610612565b6110c0898c6125be565b526110cb888b6125be565b50878c5f611063565b6110f5915060203d81116110fb575b6110ed8183610526565b810190612b30565b5f61105a565b503d6110e3565b6002819895989492939451611116816124de565b61111f816124de565b0361118257505091611141611139610f1f9360019561292c565b810190612b14565b8091505187511161115257506124f7565b61117b9061115e610547565b905f82525f60208301525190611174828a6125be565b52876125be565b505f610e6a565b6003819895989493929451611196816124de565b61119f816124de565b036111c8575050506020810151600192610f1f92610fef929091906001600160a01b0316610fc9565b90919250600481516111d9816124de565b6111e2816124de565b0361120a57505050610f1f610fef6001926111fb610547565b905f82525f60208301526134fc565b8051611215816124de565b61121e816124de565b61128b57509161123e611236610f1f9360019561292c565b810190612ad6565b509291505081518151115f1461127e5761125c610fef9251826125be565b51906020820161127761126f82516128df565b6103e8900490565b90526134fc565b610fef91506111fb610547565b60058151611298816124de565b6112a1816124de565b036113975750916112c26112ba610f1f9360019561292c565b810190612aa7565b90809250518351115f1461137e579161135c611368610fef946112e68551856125be565b519361131261130a611305611300602089019586516128f7565b612416565b612a8c565b612710900490565b9151808311611376575b6113298361134f92612a9a565b96611332610547565b905f82525f6020830152519061134882856125be565b52826125be565b5084516001600160a01b03165b91610fe5610fd6610547565b91516001600160a01b031690565b91508161131c565b505061138f610fef916111fb610547565b6111fb610547565b600681516113a4816124de565b6113ad816124de565b036114915750916113ce6113c6610f1f9360019561292c565b810190612a5c565b908092505183518091109081611486575b5015611478579161135c610fef9361146a6113fb8551856125be565b519161144461141e61140e8351886125be565b516020808701519101519061242a565b96611427610547565b905f82525f6020830152519061143d82896125be565b52866125be565b5061144d610547565b905f82525f6020830152519061146382876125be565b52846125be565b50516001600160a01b031690565b5050610fef906111fb610547565b90508151105f6113df565b600790969396516114a1816124de565b6114aa816124de565b146114bd575b5050610f1f6001916124f7565b946114d16113c6610f1f936001959861292c565b90809250518351809110908161155a575b5015611546579161135c6115329361146a6114fe8551856125be565b519161150b8151866125be565b516020848101519101519081811061153a576114449161141e91612a9a565b611427610547565b945b916114b0565b50506114445f9661152a565b5050611554906111fb610547565b94611534565b90508151105f6114e2565b805191908290602001825e015f815290565b60206115899160405192838092611565565b600881520301902090565b346101e35760206115a4366105c5565b6115b16040518092611565565b6008815281900382019020546040516001600160a01b039091168152f35b346101e35760403660031901126101e3576004356001600160401b0381116101e357611602610676913690600401610255565b6024359161160f83610237565b6116176133f1565b612fb2565b346101e35760203660031901126101e35760043561163981610237565b6116416133f1565b600380546001600160a01b0319166001600160a01b0392909216919091179055005b346101e35760603660031901126101e3576044356024356004356001600160401b0383116101e35761169c6116ce933690600401610255565b9390600654946116b160ff8760a01c166122f0565b6116c660018060a01b03600754163314612335565b810190613038565b6001600160a01b03938416979390941694919290506116ee338614613092565b60405163c45a015560e01b815290602082600481895afa9081156104385761173d925f9261191d575b506109769061172c906001600160a01b031682565b916001600160a01b031682146130f3565b604051630dfe168160e01b81529590602087600481895afa968715610438575f976118fc575b5060405163d21220a760e01b81526020816004818a5afa908115610438575f916118dd575b5060405163ddca3f4360e01b8152916020836004818b5afa918215610438576117f6996020945f946118ae575b50604051630b4c774160e11b81526001600160a01b0391821660048201529116602482015262ffffff90921660448301529097889190829081906064820190565b03915afa93841561043857611832610ad89661183e965f516020615ce75f395f51905f52995f9161187f575b506001600160a01b03161461315a565b1561187757509061242a565b61184881856133a7565b6118538133866134b4565b6040519182918291906020604084019369554e49535741505f563360b01b81520152565b90509061242a565b6118a1915060203d6020116118a7575b6118998183610526565b8101906130de565b5f611822565b503d61188f565b6118cf919450853d87116118d6575b6118c78183610526565b81019061313f565b925f6117b5565b503d6118bd565b6118f6915060203d6020116118a7576118998183610526565b5f611788565b61191691975060203d6020116118a7576118998183610526565b955f611763565b61097691925061097661194161172c9260203d6020116118a7576118998183610526565b93925050611717565b346101e35760803660031901126101e3576004356001600160401b0381116101e35761197a903690600401610bc7565b6024356001600160401b0381116101e357611999903690600401610bc7565b6044939193356001600160401b0381116101e3576119bb903690600401610bc7565b91606435956001600160401b0387116101e3576119df610676973690600401610255565b9690956131a6565b346101e35760203660031901126101e3576004355f526004602052602060018060a01b0360405f205416604051908152f35b346101e35760203660031901126101e3576004356001600160401b0381116101e357611a49903690600401610bc7565b600260015414611b1c5760026001555f5b818110611a9d5750611a6c81836135f7565b919015611a8d57611a7c92613873565b611a846139a5565b61067660018055565b9050611a9891613698565b611a7c565b611aa881838561290a565b611ab8610612610d2a838061292c565b519020611ac361298f565b03611ad2575b50600101611a5a565b6040611ae8610da0836020611af695019061292c565b01516001600160a01b031690565b336001600160a01b0390911603611b0d575f611ac9565b63ea8e4eb560e01b5f5260045ffd5b633ee5aeb560e01b5f5260045ffd5b346101e35760203660031901126101e357600435611b4881610237565b611b506133f1565b6001600160a01b03168015611ba1575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b346101e357611bc236610bf7565b90611bcb612791565b90611bd8610c55826128c9565b92611be5610c67836128c9565b945f935f5b848110611cc357875f8789825b828110611c925750611c11611c0b8461251c565b9361254e565b935f915f5b848110611c2c576040518061040789898361076e565b611c3c610976610cbb83856125be565b611c49575b600101611c16565b92611c8a600191611c6a611c60610cbb88876125be565b610cd2838b6125be565b611c7486866125be565b51611c7f828b6125be565b52610e6a818a6125be565b939050611c41565b611ca2610976610cbb83856125be565b611caf575b600101611bf7565b92611cbb6001916124f7565b939050611ca7565b9091929594611cd68286869a979a61290a565b96611ce7610612610d2a8a8061292c565b519020611cf261298f565b14611efe57611d0a610976610d67610d618b8061292c565b916001600160a01b03831615611ec05790849291611d37610da0611d2c612bfc565b9b602081019061292c565b611d408b6125a1565b52611d4a8a6125a1565b505f828b611d6c604051998a93849363aad11a3f60e01b855260048501612edf565b0381865afa968715610438575f965f98611e96575b505f915b8751831015611e0957611de4818c8c600194878e8e611daa610976610cbb85846125be565b15611dec5790611dcd611dd99596610cd286611083610cbb88611dd299986125be565b6125be565b51926125be565b52610e6a818d6125be565b920191611d85565b505050611dfb91505f926125be565b528b611dd982611083612461565b999a839850859750611e3c9491999c96959250925f93604051958694859384936352ed587560e01b855260048501612edf565b03915afa908115610438575f91611e79575b508051611e65575b506001905b0193919093611bea565b611e729060019294613561565b9290611e56565b611e8d91503d805f833e610ede8183610526565b9150505f611e4e565b909750611eb69196503d805f833e611eae8183610526565b810190613360565b959095965f611d81565b879850600192505f611eda82611ef89498999c969a6125be565b52611ee3612461565b611eed828c6125be565b52610e6a818b6125be565b95611e5b565b939497919596909260208201611f17610f3f828561292c565b926060840160018151611f29816124de565b611f32816124de565b03612004575050506040820151600192611ef892611fd4926001600160a01b0390811690891603611fda576020820151611f7c908c90610cd2908a906001600160a01b0316611083565b60405163095ea7b360e01b60208201523060248201525f6044820152611fb4888e611dcd84606481015b03601f198101865285610526565b52611fbf878d6125be565b505b60208201516001600160a01b0316610fc9565b936124f7565b5f611fe5888d6125be565b528b611ff388611083612461565b52611ffe878d6125be565b50611fc1565b60028197959293949751612017816124de565b612020816124de565b036120655750509161203a611139611ef89360019561292c565b80915051865111612052575b505f611eda828b6125be565b61205e90611427610547565b505f612046565b6003819795979493929451612079816124de565b612082816124de565b036120b7575050506020810151600192611ef8926120ab929091906001600160a01b0316610fc9565b935f611eda828b6125be565b90919250600481516120c8816124de565b6120d1816124de565b036120ea57505050611ef86120ab6001926111fb610547565b80516120f5816124de565b6120fe816124de565b612159575091612116611236611ef89360019561292c565b509291505081518151115f14612146576121346120ab9251826125be565b51906134fc565b5f611eda828b6125be565b61215391506111fb610547565b9361213b565b60058151612166816124de565b61216f816124de565b036121bd5750916121886112ba611ef89360019561292c565b90809250518351115f146121ac579161135c6113686120ab946112e68551856125be565b505061138f612153916111fb610547565b600681516121ca816124de565b6121d3816124de565b036122325750916121ec6113c6611ef89360019561292c565b908092505183518091109081612227575b5015612219579161135c6120ab9361146a6113fb8551856125be565b5050612153906111fb610547565b90508151105f6121fd565b60079095939551612242816124de565b61224b816124de565b1461225e575b5050611ef86001916124f7565b936122726113c6611ef8936001959761292c565b9080925051835180911090816122e5575b50156122d1579161135c61229f9361146a6114fe8551856125be565b935b5f6122ac828b6125be565b526122b5612461565b6122bf828c6125be565b526122ca818b6125be565b5091612251565b50506122df906111fb610547565b936122a1565b90508151105f612283565b156122f757565b60405162461bcd60e51b8152602060048201526016602482015275119b185cda081b1bd85b881b9bdd08195b98589b195960521b6044820152606490fd5b1561233c57565b60405162461bcd60e51b815260206004820152601960248201527f556e617574686f72697a656420666c6173682063616c6c6572000000000000006044820152606490fd5b1561238857565b60405162461bcd60e51b8152602060048201526016602482015275155b985d5d1a1bdc9a5e99590810585d99481c1bdbdb60521b6044820152606490fd5b156123cd57565b60405162461bcd60e51b815260206004820152600d60248201526c2130b21034b734ba34b0ba37b960991b6044820152606490fd5b634e487b7160e01b5f52601160045260245ffd5b90612710820180921161242557565b612402565b9190820180921161242557565b801515036101e357565b908160209103126101e357516105c281612437565b6040513d5f823e3d90fd5b60405190612470602083610526565b5f8252565b60405190612484604083610526565b60048252636161766560e01b6020830152565b634e487b7160e01b5f52603260045260245ffd5b91908110156124bb5760071b0190565b612497565b600811156101e357565b634e487b7160e01b5f52602160045260245ffd5b600811156124e857565b6124ca565b356105c2816124c0565b5f1981146124255760010190565b6001600160401b0381116104d05760051b60200190565b9061252682612505565b6125336040519182610526565b8281528092612544601f1991612505565b0190602036910137565b9061255882612505565b6125656040519182610526565b8281528092612576601f1991612505565b01905f5b82811061258657505050565b80606060208093850101520161257a565b356105c281610237565b8051156124bb5760200190565b8051600110156124bb5760400190565b80518210156124bb5760209160051b010190565b915f925f5b83811061268457506125f16125eb8561251c565b9461254e565b925f905f5b8181106126035750505050565b61260e8183866124ab565b600161261c606083016124ed565b612625816124de565b14612634575b506001016125f6565b83610612610f15836126568c610cd26001989a611083602061267d9a01612597565b60405163095ea7b360e01b6020820152306024820152903560448201529182906064820190565b929061262b565b600161269c60606126968488876124ab565b016124ed565b6126a5816124de565b146126b3575b6001016125d7565b936126bf6001916124f7565b9490506126ab565b604051906126d6604083610526565b60088252671e995c9bdb195b9960c21b6020830152565b156126f457565b60405162461bcd60e51b815260206004820152601860248201527f556e617574686f72697a65642042616c616e63657220763300000000000000006044820152606490fd5b91908260409103126101e3576020823561275281610237565b92013590565b1561275f57565b60405162461bcd60e51b815260206004820152600a60248201526942616420706172616d7360b01b6044820152606490fd5b604051906127a0602083610526565b5f80835282815b8281106127b357505050565b6020906040516127c2816104b5565b5f81525f83820152828285010152016127a7565b604080519091906127e78382610526565b6001815291601f1901825f5b8281106127ff57505050565b60209060405161280e816104b5565b5f81525f83820152828285010152016127f3565b604051606091906128338382610526565b6002815291601f1901825f5b82811061284b57505050565b60209060405161285a816104b5565b5f81525f838201528282850101520161283f565b9061287882612505565b6128856040519182610526565b8281528092612896601f1991612505565b01905f5b8281106128a657505050565b6020906040516128b5816104b5565b5f81525f838201528282850101520161289a565b9060038202918083046003149015171561242557565b906103e98202918083046103e9149015171561242557565b8181029291811591840414171561242557565b91908110156124bb5760051b81013590603e19813603018212156101e3570190565b903590601e19813603018212156101e357018035906001600160401b0382116101e3576020019181360383136101e357565b908060209392818452848401375f828201840152601f01601f1916010190565b9160206105c293818152019161295e565b60405160208101906020825260066040820152653937baba32b960d11b6060820152606081526129c0608082610526565b51902090565b91908260809103126101e3576040516129de816104d5565b60608082948035845260208101356129f581610237565b60208501526040810135612a0881610237565b6040850152013591612a19836124c0565b0152565b906080828203126101e3576105c2916129c6565b5160088110156124e85790565b91908260209103126101e357604051612a56816104f0565b91358252565b909160c0828403126101e3576105c2612a7584846129c6565b9360a0612a858260808701612a3e565b9401612a3e565b5f1981019190821161242557565b9190820391821161242557565b909160c0828403126101e35760a0612752612ac285856129c6565b9460808501612a3e565b600511156101e357565b60e0818303126101e357612aea82826129c6565b9260c0612b086080840135612afe81612acc565b9460a08501612a3e565b9201356105c281610237565b919060a0838203126101e357806080612a856105c293866129c6565b908160209103126101e3575190565b6020908260405193849283378101600881520301902090565b6020818303126101e3578035906001600160401b0382116101e3570160c0818303126101e35760405191612b8b8361050b565b8135600a8110156101e3578352612ba460208301610248565b6020840152612bb560408301610248565b60408401526060820135606084015260808201356001600160401b0381116101e35782612be98360a093612bf496016105a7565b608086015201612a3e565b60a082015290565b612c066001612505565b90612c146040519283610526565b6001825281601f19612c266001612505565b01905f5b828110612c3657505050565b602090604051612c458161050b565b5f81525f838201525f60408201525f606082015260606080820152604051612c6c816104f0565b5f815260a082015282828501015201612c2a565b9080601f830112156101e3578151612c9781612505565b92612ca56040519485610526565b81845260208085019260051b8201019283116101e357602001905b828210612ccd5750505090565b602080918351612cdc81610237565b815201910190612cc0565b81601f820112156101e357602081519101612d0182610556565b92612d0f6040519485610526565b828452828201116101e357815f926020928386015e8301015290565b9080601f830112156101e3578151612d4281612505565b92612d506040519485610526565b81845260208085019260051b820101918383116101e35760208201905b838210612d7c57505050505090565b81516001600160401b0381116101e357602091612d9e87848094880101612ce7565b815201910190612d6d565b81601f820112156101e357805190612dc082612505565b92612dce6040519485610526565b82845260208085019360061b830101918183116101e357602001925b828410612df8575050505090565b6040848303126101e35760206040918251612e12816104b5565b8651612e1d81610237565b81528287015183820152815201930192612dea565b916060838303126101e35782516001600160401b0381116101e35782612e59918501612c80565b9260208101516001600160401b0381116101e35783612e79918301612d2b565b9260408201516001600160401b0381116101e3576105c29201612da9565b90602080835192838152019201905f5b818110612eb45750505090565b825180516001600160a01b031685526020908101518186015260409094019390920191600101612ea7565b93929091936060810160608252835180915260808201602060808360051b8501019501915f5b818110612f33575050506001600160a01b0390951660208201529293506105c2926040818403910152612e97565b90919295607f198582030184528651908151600a8110156124e8576001928260209392849352848060a01b03838301511683820152848060a01b0360408301511660408201526060820151606082015260a080612f9f608085015160c0608086015260c085019061074a565b9301515191015298019401929101612f05565b9190916040518382823760088185019081528190036020019020546001600160a01b039283169216821461303357612fea8382612b3f565b546001600160a01b0316613024576102539261300591612b3f565b80546001600160a01b0319166001600160a01b03909216919091179055565b630a20941760e31b5f5260045ffd5b505050565b919060a0838203126101e357823561304f81610237565b92602081013561305e81610237565b9260408201359260608301356001600160401b0381116101e3576080916130869185016105a7565b9201356105c281612437565b1561309957565b60405162461bcd60e51b815260206004820152601960248201527f556e617574686f72697a656420556e697377617020706f6f6c000000000000006044820152606490fd5b908160209103126101e357516105c281610237565b156130fa57565b60405162461bcd60e51b815260206004820152601d60248201527f506f6f6c206e6f742066726f6d207472757374656420666163746f72790000006044820152606490fd5b908160209103126101e3575162ffffff811681036101e35790565b1561316157565b60405162461bcd60e51b815260206004820152601a60248201527f4e6f6e2d63616e6f6e6963616c20556e697377617020706f6f6c0000000000006044820152606490fd5b93906132595f516020615ce75f395f51905f5297613253996132336132469561322c6132ba9b6132256132939b6109769b6131e860ff60065460a01c166122f0565b6131fd60018060a01b03600754163314612335565b600254613214906001600160a01b031633146132bf565b61322060018c1461330b565b613357565b3592613357565b359061242a565b9a8b9261324b610976613246888d613357565b612597565b923691610571565b506133a7565b6132858861326a6132468489613357565b60025461327f906001600160a01b0316610976565b906134b4565b6001600160a01b0394613357565b1692604051918291829190602060408401936a2120a620a721a2a92fab1960a91b81520152565b0390a2565b156132c657565b60405162461bcd60e51b815260206004820152601860248201527f556e617574686f72697a65642042616c616e63657220763200000000000000006044820152606490fd5b1561331257565b60405162461bcd60e51b815260206004820152601b60248201527f4f6e6c792073696e676c652d617373657420737570706f7274656400000000006044820152606490fd5b90156124bb5790565b9190916040818403126101e35780516001600160401b0381116101e35783613389918301612c80565b9260208201516001600160401b0381116101e3576105c29201612d2b565b6133af6127d6565b91604051916133bd836104b5565b6001600160a01b0316825260208201528151156124bb5760208201528051156124bb576133e9906139be565b610253613aaf565b5f546001600160a01b0316330361340457565b63118cdaa760e01b5f523360045260245ffd5b816130056134639260405161343481610612602082018095611565565b5190205f818152600460205260409020546001600160a01b03168061349b575b505f52600460205260405f2090565b6001600160a01b0381166134745750565b6001600160a01b03165f90815260056020526040902061025390805460ff19166001179055565b5f52600560205260405f2060ff1981541690555f613454565b60405163a9059cbb60e01b60208201526001600160a01b0390921660248301526044820192909252610253916134f782606481015b03601f198101845283610526565b613bc0565b919091805160018101809111612425576135159061286e565b915f5b825181101561354b578061352e600192856125be565b5161353982876125be565b5261354481866125be565b5001613518565b509261355d91519061134882856125be565b5090565b91825182518101809111612425576135789061286e565b905f5b84518110156135ae5780613591600192876125be565b5161359c82866125be565b526135a781856125be565b500161357b565b50915f5b81518110156135f057806135e96135cb600193856125be565b516135d783895161242a565b906135e282886125be565b52856125be565b50016135b2565b5090925050565b915f925f925f5b81811061360a57505050565b61361581838561290a565b613625610612610d2a838061292c565b51902061363061298f565b0361368f576020810190613644828261292c565b9050156136855761365d610f3f6136639360609361292c565b01612a31565b61366c816124de565b1561367b576001905b016135fe565b6001955093505050565b5050600190613675565b50600190613675565b906136a1612791565b905f915b8183106136b25750505050565b6001906136c084848761290a565b906136ec6106126136d1848061292c565b9290604051928391602083019560208752602087019161295e565b5190206136f761298f565b0361370e5761370591613d50565b925b01916136a5565b61371791613c81565b92613707565b6040519061372a826104b5565b60606020838281520152565b9061374082612505565b61374d6040519182610526565b828152809261375e601f1991612505565b01905f5b82811061376e57505050565b60209061377961371d565b82828501015201613762565b6040813603126101e3576040519061379c826104b5565b80356001600160401b0381116101e3576137b990369083016105a7565b82526020810135906001600160401b0382116101e3576137db913691016105a7565b602082015290565b602081016020825282518091526040820191602060408360051b8301019401925f915b83831061381557505050505090565b9091929394602080613853600193603f1986820301875289519083613843835160408452604084019061074a565b920151908481840391015261074a565b97019301930191939290613806565b9060206105c2928181520190612e97565b61387b612791565b5f5b84811061395557506138926113058585612a9a565b61389b81613736565b905f5b8181106139125750509361390193611236936138f26106126138ed6138f7966138de6106126138d96102539d604051928391602083016137e3565b614327565b60405192839160208301613862565b6143c7565b61290a565b602081019061292c565b6001600160a01b0316925090614470565b8061393961393461392d6001946139288b612a8c565b612a9a565b898961290a565b613785565b61394382866125be565b5261394e81856125be565b500161389e565b9060019061396483868661290a565b90613975610612610d2a848061292c565b51902061398061298f565b036139965761398e91613d50565b915b0161387d565b61399f91613c81565b91613990565b6102536040516139b6602082610526565b5f81526143c7565b6139c66145e7565b916139dc6139d7845184519061242a565b61286e565b905f5b8451811015613a1257806139f5600192876125be565b51613a0082866125be565b52613a0b81856125be565b50016139df565b50915f5b8151811015613a365780613a2f6135cb600193856125be565b5001613a16565b50506102539192506138ed6106129160405192839160208301613862565b9060206105c292818152019061074a565b906020828203126101e35781516001600160401b0381116101e3576105c29201612da9565b9091613aa16105c293604084526040840190612e97565b91602081840391015261074a565b613ab76146a0565b819091515115613bbc575b8051604051613ad981610612602082019485613a54565b519020613ae461298f565b03613b0c57613af290614970565b613b09575b61025357613b036146a0565b90613ac2565b50565b613b1c610976610d678351611577565b6001600160a01b03811615613bad57613b5c915f916020613b3b6145e7565b920151918360405180968195829463ae4be46d60e01b845260048401613a8a565b03925af1908115610438575f91613b8b575b508051613b7c575b50613af7565b613b85906139be565b5f613b76565b613ba791503d805f833e613b9f8183610526565b810190613a65565b5f613b6e565b635d958a8b60e11b5f5260045ffd5b5050565b5f80613c089260018060a01b03169360208151910182865af13d15613c54573d90613bea82610556565b91613bf86040519384610526565b82523d5f602084013e5b83615c88565b8051908115159182613c39575b5050613c1e5750565b635274afe760e01b5f526001600160a01b031660045260245ffd5b613c4c9250602080918301019101612441565b155f80613c15565b606090613c02565b91613c736105c29492604085526040850190612e97565b92602081850391015261295e565b613c91610d67610d61838061292c565b906001600160a01b03821615613bad57613cd491613cb48260205f94019061292c565b91908360405180968195829463ae4be46d60e01b84528a60048501613c5c565b03925af1908115610438575f91613cfa575b508051613cf1575090565b6105c291613561565b613d0e91503d805f833e613b9f8183610526565b5f613ce6565b909160c0828403126101e357613d2a83836129c6565b926080830135906001600160401b0382116101e35760a0612a85826105c29487016105a7565b60208101613d61610f3f828461292c565b91606083018051613d71816124de565b613d7a816124de565b613d8d57635049b04960e01b5f5260045ffd5b60018151613d9a816124de565b613da3816124de565b03613df2575050506040810151336001600160a01b0390911603611b0d576020810180516105c29391610fc991610cbb90613de6906001600160a01b0316610976565b85519030903390614fc6565b60028151613dff816124de565b613e08816124de565b03613ead5750613e1b916111399161292c565b8091505183511115613e9e57613e328151846125be565b5180516001600160a01b031615613e8f57602081015161355d9381613e5d575b505050611332610547565b61327f6040613e78610976613e87965160018060a01b031690565b9201516001600160a01b031690565b5f8080613e52565b63ad1991f560e01b5f5260045ffd5b63779ffa5760e11b5f5260045ffd5b60038151613eba816124de565b613ec3816124de565b03613ee35750505060208101516105c292906001600160a01b0316610fc9565b9091925060048151613ef4816124de565b613efd816124de565b036140715750613f1891613f109161292c565b810190613d14565b809392505182511115613e9e576040516020810190613f3b816106128585613a54565b519020613f4661298f565b0361405d5750305b6001600160a01b03811615613bad576020613f86613f7e613f708651866125be565b51516001600160a01b031690565b9451846125be565b51015160405163095ea7b360e01b81526001600160a01b0383811660048301525f6024830152909416602085806044810103815f855af19283156104385761400895602094614042575b5060405163095ea7b360e01b81526001600160a01b0390911660048201526024810192909252909384919082905f9082906044820190565b03925af1918215610438576105c292614025575b506111fb610547565b61403d9060203d602011610431576104248183610526565b61401c565b61405890853d8711610431576104248183610526565b613fd0565b610976610d6761406c92611577565b613f4e565b6005815161407e816124de565b614087816124de565b03614123575061409a916112ba9161292c565b908092505183511115613e9e576140b28251846125be565b5180519091906001600160a01b0316158015614117575b6141085761271081116140f95761136861135c916105c29561131261130a611305611300602089019586516128f7565b631222751960e01b5f5260045ffd5b63f2365b5b60e01b5f5260045ffd5b506020820151156140c9565b60068151614130816124de565b614139816124de565b0361421d575061414c916113c69161292c565b929080925051815180911090811591614211575b50613e9e576141708251826125be565b519261417d8151836125be565b5184519094906001600160a01b03161580156141f6575b613e8f5780516001600160a01b031685516141b7906001600160a01b0316610976565b6001600160a01b03909116036141e75761146a61135c9261144461141e6105c2986020808701519101519061242a565b63936bb5ad60e01b5f5260045ffd5b50845161420b906001600160a01b0316610976565b15614194565b9050835110155f614160565b6007905161422a816124de565b614233816124de565b1461423d57505090565b61424a916113c69161292c565b92908092505181518091109081159161431b575b50613e9e5761426e8251826125be565b5161427a8451836125be565b5181519091906001600160a01b0316158015614300575b613e8f5780516001600160a01b031682516142b4906001600160a01b0316610976565b6001600160a01b03909116036141e75760208101602081519301928351116142f1576105c29561144461141e61135c9561146a9451905190612a9a565b63caccb6d960e01b5f5260045ffd5b508151614315906001600160a01b0316610976565b15614291565b9050835110155f61425e565b805190817f33a7f7e91c7e5e97e4035e86e424aaeb97691c852dc81d823520f664cc2ca71c5d8160051c91601f811690815f5b8581106143a0575061436d575b50505050565b601f19169091016020908101519190036101000a5f19011916905f516020615d075f395f51905f52015d5f808080614367565b6001915060208160051b860101515f516020615d075f395f51905f5282015d01829061435a565b805190817f5f92431fdc2b6bf66f91a326fa06b3fad6b4ab24047c9be12b7f412fbfbaa1ec5d8160051c91601f811690815f5b85811061443f575061440c5750505050565b601f19169091016020908101519190036101000a5f19011916905f516020615d475f395f51905f52015d5f808080614367565b6001915060208160051b860101515f516020615d475f395f51905f5282015d0182906143fa565b600511156124e857565b906144796145e7565b815181511115613e9e5761448e9151906125be565b5180519092906001600160a01b031615613e8f5760208301918251156145d8576144b781614466565b806144de575050905161025391906001600160a01b031690516144d8612461565b91615815565b6144e781614466565b6001810361450757505090519051610253916001600160a01b031661561a565b61451081614466565b60028103614542575050905161025391906001600160a01b03169051614534612461565b9161453d612475565b6154d5565b61454b81614466565b60038103614578575050905161025391906001600160a01b0316905161456f612461565b9161453d6126c7565b80614587600492949394614466565b036145c9576001600160a01b038216156145ba5791519151610253926001600160a01b03166145b4612461565b92615054565b631f356b8560e11b5f5260045ffd5b63882f810360e01b5f5260045ffd5b631f2a200560e01b5f5260045ffd5b7f5f92431fdc2b6bf66f91a326fa06b3fad6b4ab24047c9be12b7f412fbfbaa1ec5c604051908082528060051c5f5b81811061467c575090602091601f821661465c575b50601f01601f191682010160405280511561465357806020806105c293518301019101613a65565b506105c2612791565b5f516020615d475f395f51905f52015c601f19821684018301525f61462b565b805f516020615d475f395f51905f52600192015c60208260051b8701015201614616565b6146a861371d565b906146b1615a3d565b918251801561480e5783019260208401906020818603126101e3576020810151906001600160401b0382116101e3570181603f820112156101e3576020810151946146fb86612505565b956147096040519788610526565b8087526020808089019260051b85010101928484116101e35760408101915b8483106147825750505050505082519081156147795750806113056106126138d961475e61475861477596612a8c565b886125be565b51965f1985018152604051928391602083016137e3565b1590565b92506001919050565b82516001600160401b0381116101e35782016020810191906040908603601f1901126101e357604051906147b5826104b5565b60208301516001600160401b0381116101e3578860206147d792860101612ce7565b82526040830151916001600160401b0383116101e3576147ff89602080969581960101612ce7565b83820152815201920191614728565b509150600190565b91908260809103126101e35760405161482e816104d5565b606080829480518452602081015161484581610237565b6020850152604081015161485881610237565b6040850152015191612a19836124c0565b906080828203126101e3576105c291614816565b91908260209103126101e357604051614895816104f0565b91518252565b909160c0828403126101e3576105c26148b48484614816565b9360a06148c4826080870161487d565b940161487d565b909160c0828403126101e35760a06148f06148e68585614816565b946080850161487d565b92015190565b909160c0828403126101e35761490c8383614816565b926080830151906001600160401b0382116101e35760a06148c4826105c2948701612ce7565b60e0818303126101e3576149468282614816565b9260c0614964608084015161495a81612acc565b9460a0850161487d565b9201516105c281610237565b6020810190614989825160208082518301019101614869565b90606082018051614999816124de565b6149a2816124de565b6149c5575050506139016149c0915160208082518301019101614932565b600190565b600181516149d2816124de565b6149db816124de565b036149f05750506149ec9150615bd6565b5f90565b60028193929351614a00816124de565b614a09816124de565b03614a1a5750506149ec9150615b16565b90915060038151614a2a816124de565b614a33816124de565b03614a9157506149ec9150614a466127d6565b60208201519091906001600160a01b03169051614a73614a64610547565b6001600160a01b039093168352565b6020820152614a81826125a1565b52614a8b816125a1565b506139be565b905060048151614aa0816124de565b614aa9816124de565b03614c315750614ac39051602080825183010191016148f6565b9150614acd6145e7565b90825182511115613e9e576040516020810190614aee816106128585613a54565b519020614af961298f565b03614c1c575030905b6001600160a01b03821615613bad57614b2d602091614b25613f708651836125be565b9451906125be565b51015160405163095ea7b360e01b81526001600160a01b0383811660048301525f6024830152909316602084806044810103815f855af192831561043857614baf94602094614c01575b5060405163095ea7b360e01b81526001600160a01b0390911660048201526024810192909252909283919082905f9082906044820190565b03925af1801561043857614be4575b506149ec614bca6127d6565b614bd2610547565b5f81525f6020820152614a81826125a1565b614bfc9060203d602011610431576104248183610526565b614bbe565b614c1790853d8711610431576104248183610526565b614b77565b610976610d67614c2b92611577565b90614b02565b60058151614c3e816124de565b614c47816124de565b03614d785750614c619051602080825183010191016148cb565b909150614c6c6145e7565b825181511115613e9e57614c818351826125be565b5180519093906001600160a01b0316158015614d6c575b6141085761271083116140f95783614cc161130a61130561130060206149ec99019788516128f7565b9351808511614d64575b92614d4f610612936138ed93614d22614ce789614d5f99612a9a565b91614cf0612822565b8151909a906001600160a01b031690614d0a614a64610547565b6020820152614d188b6125a1565b5261146a8a6125a1565b90614d2e614a64610547565b6020820152614d3c886125ae565b52614d46876125ae565b50611332610547565b5060405192839160208301613862565b6139be565b935083614ccb565b50602084015115614c98565b60068151614d85816124de565b614d8e816124de565b03614eb45750614da890516020808251830101910161489b565b909150614db36145e7565b918051835180911090811591614ea8575b50613e9e57614dd48151846125be565b5191614de18151856125be565b5183516001600160a01b0316158015614e8d575b613e8f5783516001600160a01b03168151614e18906001600160a01b0316610976565b6001600160a01b03909116036141e7576149ec94614d4f61061293614d46614d5f96614e506138ed966020808c01519101519061242a565b614e69614e5b6127d6565b9a516001600160a01b031690565b90614e75614a64610547565b6020820152614e838a6125a1565b52611444896125a1565b508051614ea2906001600160a01b0316610976565b15614df5565b9050825110155f614dc4565b60079051614ec1816124de565b614eca816124de565b14614ed457505f90565b614ee890516020808251830101910161489b565b9150614ef26145e7565b918151835180911090811591614fba575b50613e9e57614f138251846125be565b5191614f208251856125be565b5183519091906001600160a01b0316158015614f9f575b613e8f5783516001600160a01b03168251614f5a906001600160a01b0316610976565b6001600160a01b03909116036141e7576020840194602086519301928351116142f157614d4f614d5f94614d466138ed94614e50610612976149ec9b51905190612a9a565b508151614fb4906001600160a01b0316610976565b15614f37565b9050815110155f614f03565b6040516323b872dd60e01b60208201526001600160a01b0392831660248201529290911660448301526064820192909252610253916134f782608481016134e9565b1561500f57565b60405162461bcd60e51b815260206004820152601860248201527f4e657374656420666c617368206e6f7420616c6c6f77656400000000000000006044820152606490fd5b929160065461506960ff8260a01c1615615008565b60ff60a01b198116600160a01b176006819055600780546001600160a01b0319166001600160a01b038881169182179092559691926150aa911615156153aa565b6150b58615156153ec565b6001600160a01b03841690811515806153a1575b6150d290612758565b60405163c45a015560e01b8152926020846004818b5afa938415610438575f94615374575b5061511f9061510e906001600160a01b0316610976565b936001600160a01b031684146130f3565b604051630dfe168160e01b8152906020826004818b5afa918215610438575f92615353575b5060405163d21220a760e01b8152936020856004818c5afa948515610438575f95615332575b5060405163ddca3f4360e01b81526020816004818d5afa8015610438576151e0926020925f9261530f575b506001600160a01b03165b604051630b4c774160e11b81526001600160a01b0380881660048301528916602482015262ffffff90921660448301529092839190829081906064820190565b03915afa9283156104385761520d8a61524395611fa6945f9161187f57506001600160a01b03161461315a565b6001600160a01b0395861685149895168414948590818015615308575b61523390615428565b87604051998a9560208701615468565b5f516020615d275f395f51905f5260405180615277868291906020604084019369554e49535741505f563360b01b81520152565b0390a2156153015780925b156152f957925b803b156101e3576152b5935f8094604051968795869485936312439b2f60e21b855230600486016154aa565b03925af18015610438576152e5575b50600780546001600160a01b03191690555b6006805460ff60a01b19169055565b80610aeb5f6152f393610526565b5f6152c4565b505f92615289565b5f92615282565b508961522a565b6151a091925061532b90843d86116118d6576118c78183610526565b9190615195565b61534c91955060203d6020116118a7576118998183610526565b935f61516a565b61536d91925060203d6020116118a7576118998183610526565b905f615144565b61511f91945061097661539861510e9260203d6020116118a7576118998183610526565b959250506150f7565b508315156150c9565b156153b157565b60405162461bcd60e51b8152602060048201526013602482015272155b9a5cddd85c081d8cc8191a5cd8589b1959606a1b6044820152606490fd5b156153f357565b60405162461bcd60e51b815260206004820152600d60248201526c141bdbdb081c995c5d5a5c9959609a1b6044820152606490fd5b1561542f57565b60405162461bcd60e51b8152602060048201526011602482015270151bdad95b881b9bdd081a5b881c1bdbdb607a1b6044820152606490fd5b6001600160a01b03918216815291166020820152604081019190915260a06060820181905292939290916080916154a2919084019061074a565b931515910152565b90926080926105c2959460018060a01b0316835260208301526040820152816060820152019061074a565b929091926040516154ee81610612602082018095611565565b5190205f908152600460205260409020546001600160a01b031680156155d65760065461552160ff8260a01c1615615008565b60ff60a01b1916600160a01b17600655600780546001600160a01b0319166001600160a01b03928316908117909155908316801515806155cd575b61556590612758565b5f516020615d275f395f51905f526040518061559e88829190602060408401936e414156455f434f4d50415449424c4560881b81520152565b0390a2803b156101e3576152b5935f8094604051968795869485936310ac2ddf60e21b85523060048601615c4a565b5084151561555c565b606460405162461bcd60e51b815260206004820152602060248201527f4161766520706f6f6c206e6f74207265676973746572656420666f72206b65796044820152fd5b61575e6156f65f93925f516020615d275f395f51905f52615729869560018060a01b036003541660065461565460ff8260a01c1615615008565b60ff60a01b1916600160a01b17600655600780546001600160a01b03191691909117905560035461568f906001600160a01b031615156157ad565b6001600160a01b038416936157049082906156da90871515806157a4575b6156b690612758565b604080516001600160a01b0390921660208301528101929092528160608101610612565b60405163bf11f4af60e01b602082015296879160248301613a54565b03601f198101875286610526565b604051918291829190602060408401936a42414c414e4345525f563360a81b81520152565b0390a2600354615741906001600160a01b0316610976565b906040519485809481936348c8949160e01b835260048301613a54565b03925af18015610438576157825750600780546001600160a01b03191690556152d6565b61579d903d805f833e6157958183610526565b8101906157f0565b505f6152c4565b508215156156ad565b156157b457565b60405162461bcd60e51b815260206004820152601460248201527310985b185b98d95c881d8cc8191a5cd8589b195960621b6044820152606490fd5b906020828203126101e35781516001600160401b0381116101e3576105c29201612ce7565b91909160018060a01b036002541660065461583660ff8260a01c1615615008565b60ff60a01b1916600160a01b17600655600780546001600160a01b031916919091179055600254615871906001600160a01b0316151561593a565b6001600160a01b03169081151580615931575b61588d90612758565b61589561597d565b916158a381610cd2856125a1565b5f516020615d275f395f51905f526158ed6158bc61597d565b95806158c7886125a1565b52604051918291829190602060408401936a2120a620a721a2a92fab1960a91b81520152565b0390a2600254615905906001600160a01b0316610976565b803b156101e3576152b5935f809460405196879586948593632e1c224f60e11b8552306004860161599f565b50821515615884565b1561594157565b60405162461bcd60e51b815260206004820152601460248201527310985b185b98d95c881d8c88191a5cd8589b195960621b6044820152606490fd5b6040805190919061598e8382610526565b6001815291601f1901366020840137565b6001600160a01b03909116815260806020808301829052835191830182905260a0830196959301905f5b818110615a1e5750505080850360408201526020808451968781520193015f955b808710615a065750506105c2939450606081840391015261074a565b909360208060019287518152019501960195906159ea565b82516001600160a01b03168852602097880197909201916001016159c9565b7f33a7f7e91c7e5e97e4035e86e424aaeb97691c852dc81d823520f664cc2ca71c5c90604051918083528060051c5f5b818110615ab2575090602091601f8216615a92575b50601f01601f1916830101604052565b5f516020615d075f395f51905f52015c601f19821685018301525f615a82565b805f516020615d075f395f51905f52600192015c60208260051b8801015201615a6d565b919060a0838203126101e3578060806148c46105c29386614816565b60405190615aff826104d5565b5f6060838281528260208201528260408201520152565b602001615b2d815160208082518301019101615ad6565b9050615b376145e7565b91815183511115613e9e57615b4d8251846125be565b5180519093906001600160a01b031615613e8f57614d4f610612936138ed9386602061025398018051615b8557505050611332610547565b615bce6040615bbf610976615bb0613e8797615b9f615af2565b505160208082518301019101615ad6565b5095516001600160a01b031690565b9301516001600160a01b031690565b9051916134b4565b60408101516001600160a01b03163303611b0d576020810180518251615c0891309033906001600160a01b0316614fc6565b615c106127d6565b90519151604051926001600160a01b0316615c2a846104b5565b835260208301528051156124bb57610253916020820152614a8b816125a1565b6001600160a01b03918216815291166020820152604081019190915260a0606082018190529092915f91608091615c839186019061074a565b930152565b90615cac5750805115615c9d57805190602001fd5b630a12f52160e11b5f5260045ffd5b81511580615cdd575b615cbd575090565b639996b31560e01b5f9081526001600160a01b0391909116600452602490fd5b50803b15615cb556feb21eee5e191a9cc1ec41621c9a0fea677a897b20b22a856449974d61f8061ac433a7f7e91c7e5e97e4035e86e424aaeb97691c852dc81d823520f664cc2ca71d1fd78546830bb8c24aefbbf22320d9d28d30decfca91ec0a9caf26e93c576d125f92431fdc2b6bf66f91a326fa06b3fad6b4ab24047c9be12b7f412fbfbaa1eda2646970667358221220eb06867f571b00e775b634f7fb44bd825a3e119badbdac9d494bd85b09edea0364736f6c634300081e0033",
  "devdoc": {
    "errors": {
      "AddressEmptyCode(address)": [
        {
          "details": "There's no code at `target` (it is not a contract)."
        }
      ],
      "AddressInsufficientBalance(address)": [
        {
          "details": "The ETH balance of the account is not enough to perform the operation."
        }
      ],
      "FailedInnerCall()": [
        {
          "details": "A call to an address target failed. The target may have reverted."
        }
      ],
      "OwnableInvalidOwner(address)": [
        {
          "details": "The owner is not a valid owner account. (eg. `address(0)`)"
        }
      ],
      "OwnableUnauthorizedAccount(address)": [
        {
          "details": "The caller account is not authorized to perform an operation."
        }
      ],
      "ReentrancyGuardReentrantCall()": [
        {
          "details": "Unauthorized reentrant call."
        }
      ],
      "SafeERC20FailedOperation(address)": [
        {
          "details": "An operation with an ERC20 token failed."
        }
      ]
    },
    "kind": "dev",
    "methods": {
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "setAavePool(address)": {
        "notice": "Set the Aave V3 pool address."
      },
      "setZeroLendPool(address)": {
        "notice": "Set the ZeroLend pool address."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 845,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "_status",
        "offset": 0,
        "slot": "1",
        "type": "t_uint256"
      },
      {
        "astId": 6285,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "balancerV2Vault",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(IFlashLoanProvider)7476"
      },
      {
        "astId": 6288,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "balancerV3Vault",
        "offset": 0,
        "slot": "3",
        "type": "t_contract(IVaultV3)7502"
      },
      {
        "astId": 6292,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "aaveCompatiblePools",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_bytes32,t_address)"
      },
      {
        "astId": 6296,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "isAaveCompatiblePool",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 6298,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "uniswapV3Factory",
        "offset": 0,
        "slot": "6",
        "type": "t_address"
      },
      {
        "astId": 6300,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "flashLoanEnabled",
        "offset": 20,
        "slot": "6",
        "type": "t_bool"
      },
      {
        "astId": 6302,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "authorizedFlashSender",
        "offset": 0,
        "slot": "7",
        "type": "t_address"
      },
      {
        "astId": 984,
        "contract": "contracts/v2/KapanRouter.sol:KapanRouter",
        "label": "gateways",
        "offset": 0,
        "slot": "8",
        "type": "t_mapping(t_string_memory_ptr,t_contract(IGateway)7414)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_contract(IFlashLoanProvider)7476": {
        "encoding": "inplace",
        "label": "contract IFlashLoanProvider",
        "numberOfBytes": "20"
      },
      "t_contract(IGateway)7414": {
        "encoding": "inplace",
        "label": "contract IGateway",
        "numberOfBytes": "20"
      },
      "t_contract(IVaultV3)7502": {
        "encoding": "inplace",
        "label": "contract IVaultV3",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_bytes32,t_address)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_mapping(t_string_memory_ptr,t_contract(IGateway)7414)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => contract IGateway)",
        "numberOfBytes": "32",
        "value": "t_contract(IGateway)7414"
      },
      "t_string_memory_ptr": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}